import{r as s,u as f,j as e}from"./index-CiYObJ11.js";import{c as j}from"./clientService-AuBuwhW7.js";import{F as v}from"./ArrowLeftIcon-re9wrq5x.js";function N({title:r,titleId:t,...l},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},l),r?s.createElement("title",{id:t},r):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const k=s.forwardRef(N);function y({title:r,titleId:t,...l},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},l),r?s.createElement("title",{id:t},r):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const C=s.forwardRef(y);function E({title:r,titleId:t,...l},a){return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":t},l),r?s.createElement("title",{id:t},r):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0ZM3 19.235v-.11a6.375 6.375 0 0 1 12.75 0v.109A12.318 12.318 0 0 1 9.374 21c-2.331 0-4.512-.645-6.374-1.766Z"}))}const x=s.forwardRef(E),L=()=>{const[r,t]=s.useState({name:"",email:"",password:"",phone:"",goals:[],weight:"",initialObjective:"",trainingDaysPerWeek:"",medicalConditions:"",medications:"",injuries:""}),[l,a]=s.useState(null),[m,h]=s.useState(null),[b,n]=s.useState(!1),c=f(),i=d=>{const{name:o,value:u}=d.target;t(w=>({...w,[o]:u}))},p=d=>/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(d),g=async d=>{if(d.preventDefault(),a(null),h(null),n(!0),!r.name||!r.email||!r.password){a("Por favor, completa todos los campos requeridos."),n(!1);return}if(!p(r.email)){a("Por favor, ingresa un correo electrónico válido."),n(!1);return}if(r.password.length<6){a("La contraseña debe tener al menos 6 caracteres."),n(!1);return}try{const o={...r,weight:r.weight?parseFloat(r.weight):void 0,trainingDaysPerWeek:r.trainingDaysPerWeek?parseInt(r.trainingDaysPerWeek):void 0};await j.addClient(o)&&(h("Cliente agregado exitosamente."),setTimeout(()=>c("/trainer/clients"),2e3))}catch(o){o.response?.status===400&&o.response?.data?.message==="Client with this email already exists."?a("Ya existe un cliente registrado con este correo electrónico."):a(o.response?.data?.message||"Error al agregar el cliente. Inténtalo de nuevo."),console.error("Error adding client:",o)}finally{n(!1)}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 text-white p-6",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8 p-6 bg-white/5 backdrop-blur-sm border border-white/10 rounded-2xl shadow-2xl",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-gradient-to-br from-red-500 to-red-600 rounded-xl shadow-lg",children:e.jsx(x,{className:"w-8 h-8 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-red-400 to-red-600 bg-clip-text text-transparent",children:"Agregar Nuevo Cliente"}),e.jsx("p",{className:"text-white/70 mt-1",children:"Completa la información del cliente para agregarlo a tu lista"})]})]}),e.jsxs("button",{onClick:()=>c("/trainer/clients"),className:"flex items-center gap-2 px-6 py-3 bg-white/10 hover:bg-white/15 border border-white/20 hover:border-white/30 rounded-xl font-medium transition-all duration-300 backdrop-blur-sm",children:[e.jsx(v,{className:"w-5 h-5"}),"Volver a Clientes"]})]}),e.jsxs("div",{className:"bg-white/5 backdrop-blur-sm border border-white/10 p-8 rounded-2xl shadow-2xl",children:[l&&e.jsx("div",{className:"bg-red-500/10 border border-red-500/30 text-red-400 px-6 py-4 rounded-xl mb-6 backdrop-blur-sm",role:"alert",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(C,{className:"w-5 h-5 mr-3 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("strong",{className:"font-semibold",children:"Error: "}),e.jsx("span",{children:l})]})]})}),m&&e.jsx("div",{className:"bg-green-500/10 border border-green-500/30 text-green-400 px-6 py-4 rounded-xl mb-6 backdrop-blur-sm",role:"alert",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(k,{className:"w-5 h-5 mr-3 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("strong",{className:"font-semibold",children:"¡Éxito! "}),e.jsx("span",{children:m})]})]})}),e.jsxs("form",{onSubmit:g,className:"space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"name",className:"block text-sm font-semibold text-white/80 mb-2",children:["Nombre Completo ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsx("input",{type:"text",id:"name",name:"name",value:r.name,onChange:i,required:!0,className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white placeholder-white/50 focus:ring-2 focus:ring-red-500/50 focus:border-red-500/50 transition-all duration-300 backdrop-blur-sm",placeholder:"Ingresa el nombre completo"})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"email",className:"block text-sm font-semibold text-white/80 mb-2",children:["Correo Electrónico ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsx("input",{type:"email",id:"email",name:"email",value:r.email,onChange:i,required:!0,className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white placeholder-white/50 focus:ring-2 focus:ring-red-500/50 focus:border-red-500/50 transition-all duration-300 backdrop-blur-sm",placeholder:"ejemplo@correo.com"})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"password",className:"block text-sm font-semibold text-white/80 mb-2",children:["Contraseña Inicial ",e.jsx("span",{className:"text-red-400",children:"*"}),e.jsx("span",{className:"text-xs text-white/50 ml-1",children:"(mínimo 6 caracteres)"})]}),e.jsx("input",{type:"password",id:"password",name:"password",value:r.password,onChange:i,required:!0,className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white placeholder-white/50 focus:ring-2 focus:ring-red-500/50 focus:border-red-500/50 transition-all duration-300 backdrop-blur-sm",placeholder:"Mínimo 6 caracteres"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"phone",className:"block text-sm font-semibold text-white/80 mb-2",children:"Teléfono"}),e.jsx("input",{type:"tel",id:"phone",name:"phone",value:r.phone,onChange:i,className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white placeholder-white/50 focus:ring-2 focus:ring-red-500/50 focus:border-red-500/50 transition-all duration-300 backdrop-blur-sm",placeholder:"Número de teléfono"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"weight",className:"block text-sm font-semibold text-white/80 mb-2",children:"Peso (kg)"}),e.jsx("input",{type:"number",id:"weight",name:"weight",value:r.weight,onChange:i,step:"0.1",min:"0",className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white placeholder-white/50 focus:ring-2 focus:ring-red-500/50 focus:border-red-500/50 transition-all duration-300 backdrop-blur-sm",placeholder:"Peso en kilogramos"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"trainingDaysPerWeek",className:"block text-sm font-semibold text-white/80 mb-2",children:"Días de Entrenamiento por Semana"}),e.jsxs("select",{id:"trainingDaysPerWeek",name:"trainingDaysPerWeek",value:r.trainingDaysPerWeek,onChange:i,className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white focus:ring-2 focus:ring-red-500/50 focus:border-red-500/50 transition-all duration-300 backdrop-blur-sm",children:[e.jsx("option",{value:"",className:"bg-gray-800",children:"Selecciona días por semana"}),e.jsx("option",{value:"1",className:"bg-gray-800",children:"1 día"}),e.jsx("option",{value:"2",className:"bg-gray-800",children:"2 días"}),e.jsx("option",{value:"3",className:"bg-gray-800",children:"3 días"}),e.jsx("option",{value:"4",className:"bg-gray-800",children:"4 días"}),e.jsx("option",{value:"5",className:"bg-gray-800",children:"5 días"}),e.jsx("option",{value:"6",className:"bg-gray-800",children:"6 días"}),e.jsx("option",{value:"7",className:"bg-gray-800",children:"7 días"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"initialObjective",className:"block text-sm font-semibold text-white/80 mb-2",children:"Objetivo Inicial"}),e.jsx("textarea",{id:"initialObjective",name:"initialObjective",value:r.initialObjective,onChange:i,rows:3,className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white placeholder-white/50 focus:ring-2 focus:ring-red-500/50 focus:border-red-500/50 transition-all duration-300 backdrop-blur-sm resize-none",placeholder:"Describe el objetivo principal del cliente (ej: perder peso, ganar masa muscular, mejorar resistencia...)"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"medicalConditions",className:"block text-sm font-semibold text-white/80 mb-2",children:"Condiciones Médicas"}),e.jsx("textarea",{id:"medicalConditions",name:"medicalConditions",value:r.medicalConditions,onChange:i,rows:3,className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white placeholder-white/50 focus:ring-2 focus:ring-red-500/50 focus:border-red-500/50 transition-all duration-300 backdrop-blur-sm resize-none",placeholder:"Condiciones médicas relevantes"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"medications",className:"block text-sm font-semibold text-white/80 mb-2",children:"Medicamentos"}),e.jsx("textarea",{id:"medications",name:"medications",value:r.medications,onChange:i,rows:3,className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white placeholder-white/50 focus:ring-2 focus:ring-red-500/50 focus:border-red-500/50 transition-all duration-300 backdrop-blur-sm resize-none",placeholder:"Medicamentos actuales"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"injuries",className:"block text-sm font-semibold text-white/80 mb-2",children:"Lesiones"}),e.jsx("textarea",{id:"injuries",name:"injuries",value:r.injuries,onChange:i,rows:3,className:"w-full px-4 py-3 bg-white/5 border border-white/20 rounded-xl text-white placeholder-white/50 focus:ring-2 focus:ring-red-500/50 focus:border-red-500/50 transition-all duration-300 backdrop-blur-sm resize-none",placeholder:"Lesiones previas o actuales"})]})]}),e.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-white/10",children:[e.jsx("button",{type:"button",onClick:()=>c("/trainer/clients"),className:"px-6 py-3 bg-white/10 hover:bg-white/15 border border-white/20 hover:border-white/30 rounded-xl font-medium transition-all duration-300 backdrop-blur-sm",children:"Cancelar"}),e.jsx("button",{type:"submit",disabled:b,className:"px-8 py-3 bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white font-semibold rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:b?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Agregando..."]}):e.jsxs(e.Fragment,{children:[e.jsx(x,{className:"w-5 h-5"}),"Agregar Cliente"]})})]})]})]})]})})};export{L as default};
