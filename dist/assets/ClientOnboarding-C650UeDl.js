import{u as x,a as b,r as g,j as e,c as o}from"./index-BJZa08pc.js";const y=()=>{const d=x(),{user:c,saveOnboardingData:v}=b(),[i,u]=g.useState({weight:"",height:"",age:"",gender:"",injuries:"",injuryDetails:"",medicalConditions:"",medications:"",medicationDetails:"",previousTraining:"",objective:"",otherObjectiveDetail:""}),[m,h]=g.useState(!1),n=t=>{const{name:r,value:s}=t.target;u(l=>({...l,[r]:s}))},a=t=>{const{name:r,value:s}=t.target;u(l=>{const j={...l,[r]:s};return console.log("Form data after radio change:",j),j})},p=async t=>{if(t.preventDefault(),!c){o.error("No se pudo identificar al usuario. Por favor, inicia sesión de nuevo."),d("/login");return}if(i.injuries==="yes"&&!i.injuryDetails?.trim()){o.error("Por favor, detalla tus lesiones.");return}if(i.medications==="yes"&&!i.medicationDetails?.trim()){o.error("Por favor, detalla tu medicación.");return}if(i.objective==="other_objective"&&!i.otherObjectiveDetail?.trim()){o.error("Por favor, especifica tu otro objetivo.");return}h(!0);try{const r={...i,injuryDetails:i.injuries==="yes"?i.injuryDetails:"",medicationDetails:i.medications==="yes"?i.medicationDetails:"",otherObjectiveDetail:i.objective==="other_objective"?i.otherObjectiveDetail:""};await v(r),o.success("¡Perfil completado exitosamente!"),d(`/client-dashboard/${c.id}`)}catch(r){console.error("Error al guardar datos de onboarding:",r),o.error("Error al guardar el perfil. Por favor, intente nuevamente.")}finally{h(!1)}};return e.jsx("div",{className:"dark-theme",children:e.jsxs("div",{className:"onboarding-container",children:[e.jsxs("div",{className:"onboarding-header",children:[e.jsx("img",{src:"/images/logo-trainfit.png",alt:"Trainfit Logo",className:"logo"}),e.jsx("h1",{children:"Completá tus datos para personalizar tu entrenamiento!"})]}),e.jsxs("form",{onSubmit:p,className:"onboarding-form",children:[e.jsxs("div",{className:"form-group",children:[" ",e.jsx("input",{type:"text",id:"weight",name:"weight",value:i.weight,onChange:n,placeholder:"Peso (kg)",required:!0})]}),e.jsxs("div",{className:"form-row",children:[" ",e.jsxs("div",{className:"form-group",children:[" ",e.jsx("input",{type:"text",id:"height",name:"height",value:i.height,onChange:n,placeholder:"Altura (cm)",required:!0})]}),e.jsxs("div",{className:"form-group",children:[" ",e.jsx("input",{type:"text",id:"age",name:"age",value:i.age,onChange:n,placeholder:"Edad",required:!0})]})]}),e.jsx("div",{className:"form-group radio-group",children:e.jsxs("div",{children:[e.jsx("input",{type:"radio",id:"gender_female",name:"gender",value:"female",checked:i.gender==="female",onChange:a}),e.jsx("label",{htmlFor:"gender_female",children:"Femenino"}),e.jsx("input",{type:"radio",id:"gender_male",name:"gender",value:"male",checked:i.gender==="male",onChange:a}),e.jsx("label",{htmlFor:"gender_male",children:"Masculino"}),e.jsx("input",{type:"radio",id:"gender_other",name:"gender",value:"other",checked:i.gender==="other",onChange:a}),e.jsx("label",{htmlFor:"gender_other",children:"Otro"})]})}),e.jsxs("div",{className:"form-group radio-group",children:[e.jsx("div",{className:"radio-group-label",children:"¿Tenés alguna lesión?"})," ",e.jsxs("div",{children:[e.jsx("input",{type:"radio",id:"injuries_yes",name:"injuries",value:"yes",checked:i.injuries==="yes",onChange:a}),e.jsx("label",{htmlFor:"injuries_yes",children:"Sí"}),e.jsx("input",{type:"radio",id:"injuries_no",name:"injuries",value:"no",checked:i.injuries==="no",onChange:a}),e.jsx("label",{htmlFor:"injuries_no",children:"No"})]})]}),i.injuries==="yes"&&e.jsx("div",{className:"form-group",children:e.jsx("textarea",{id:"injuryDetails",name:"injuryDetails",value:i.injuryDetails,onChange:n,rows:3,placeholder:"Describí tus lesiones..."})}),e.jsx("div",{className:"form-group",children:e.jsx("input",{type:"text",id:"medicalConditions",name:"medicalConditions",value:i.medicalConditions,onChange:n,placeholder:"¿Tenés alguna enfermedad o condición médica relevante?"})}),e.jsxs("div",{className:"form-group radio-group",children:[e.jsx("div",{className:"radio-group-label",children:"¿Estás tomando alguna medicación actualmente?"}),e.jsxs("div",{children:[e.jsx("input",{type:"radio",id:"medications_yes",name:"medications",value:"yes",checked:i.medications==="yes",onChange:a}),e.jsx("label",{htmlFor:"medications_yes",children:"Sí"}),e.jsx("input",{type:"radio",id:"medications_no",name:"medications",value:"no",checked:i.medications==="no",onChange:a}),e.jsx("label",{htmlFor:"medications_no",children:"No"})]})]}),i.medications==="yes"&&e.jsx("div",{className:"form-group",children:e.jsx("textarea",{id:"medicationDetails",name:"medicationDetails",value:i.medicationDetails,onChange:n,rows:3,placeholder:"Detalla tu medicación..."})}),e.jsxs("div",{className:"form-group radio-group",children:[e.jsx("div",{className:"radio-group-label",children:"¿Venias entrenando antes?"}),e.jsxs("div",{children:[e.jsx("input",{type:"radio",id:"previousTraining_yes",name:"previousTraining",value:"yes",checked:i.previousTraining==="yes",onChange:a}),e.jsx("label",{htmlFor:"previousTraining_yes",children:"Sí"}),e.jsx("input",{type:"radio",id:"previousTraining_no",name:"previousTraining",value:"no",checked:i.previousTraining==="no",onChange:a}),e.jsx("label",{htmlFor:"previousTraining_no",children:"No"})]})]}),e.jsxs("div",{className:"form-group radio-group",children:[e.jsx("div",{className:"radio-group-label",children:"Tu objetivo"})," ",e.jsxs("div",{children:[e.jsx("input",{type:"radio",id:"objective_lose_fat",name:"objective",value:"lose_fat",checked:i.objective==="lose_fat",onChange:a}),e.jsx("label",{htmlFor:"objective_lose_fat",children:"Perder grasa"}),e.jsx("input",{type:"radio",id:"objective_gain_muscle",name:"objective",value:"gain_muscle",checked:i.objective==="gain_muscle",onChange:a}),e.jsx("label",{htmlFor:"objective_gain_muscle",children:"Ganar masa muscular"}),e.jsx("input",{type:"radio",id:"objective_maintain",name:"objective",value:"maintain",checked:i.objective==="maintain",onChange:a}),e.jsx("label",{htmlFor:"objective_maintain",children:"Mantener"}),e.jsx("input",{type:"radio",id:"objective_other",name:"objective",value:"other_objective",checked:i.objective==="other_objective",onChange:a}),e.jsx("label",{htmlFor:"objective_other",children:"Otro"})]})]}),i.objective==="other_objective"&&e.jsx("div",{className:"form-group",children:e.jsx("textarea",{id:"otherObjectiveDetail",name:"otherObjectiveDetail",value:i.otherObjectiveDetail,onChange:n,rows:3,placeholder:"Especifica tu otro objetivo..."})}),e.jsx("button",{type:"submit",className:"submit-button",disabled:m,children:m?"Guardando...":"Guardar y continuar"})]})]})})};export{y as default};
