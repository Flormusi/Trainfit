import{u as je,h as ve,a as ye,r as c,j as e}from"./index-CiYObJ11.js";import{a as Ne}from"./api-BeJd8zh7.js";import{E as we,b as q,c as V,a as T,d as U,e as H,f as K,g as Q,h as J,i as Y,j as G,m as X,p as Z,k as ee,l as se,t as re,n as Ee}from"./tricepsExercises-B5e31P2L.js";const{trainerApi:g}=Ne,Ie=()=>{const A=je(),P=ve(),{user:u}=ye(),[F,I]=c.useState([]),[l,x]=c.useState({name:"",clientId:"",duration:"",notes:"",exercises:[],trainingObjective:"",totalWeeks:4}),[z,te]=c.useState([]),[Se,ae]=c.useState([]),[_,w]=c.useState([]),[v,b]=c.useState([]),[L,m]=c.useState(null),[M,D]=c.useState(null),O=c.useRef([]),[h,E]=c.useState([]),[oe,S]=c.useState([]),f=["12","10","8","8","6"],[k,y]=c.useState([]),[W,R]=c.useState([]),[p,$]=c.useState(7.5);c.useEffect(()=>{const r=u?.id?`defaultPercentIncrement:${u.id}`:"defaultPercentIncrement";try{const s=localStorage.getItem(r);if(s!==null){const t=parseFloat(s);$(isNaN(t)?7.5:t)}else{const t=localStorage.getItem("defaultPercentIncrement");if(t!==null){const a=parseFloat(t);$(isNaN(a)?7.5:a)}}}catch(s){console.warn("No se pudo leer el porcentaje por defecto desde localStorage:",s)}},[u?.id]),c.useEffect(()=>{const r=u?.id?`defaultPercentIncrement:${u.id}`:"defaultPercentIncrement";try{localStorage.setItem(r,p.toString())}catch(s){console.warn("No se pudo persistir el porcentaje por defecto en localStorage:",s)}},[p,u?.id]),c.useEffect(()=>{(async()=>{if(u?.id)try{const t=(await g.getProfile())?.trainerProfile?.defaultPercentIncrement,a=u.id?`defaultPercentIncrement:${u.id}`:"defaultPercentIncrement";if(t!=null){const i=typeof t=="string"?parseFloat(t):t;if(!isNaN(i)){$(i);try{localStorage.setItem(a,String(i))}catch{}}}else await g.updateProfile({defaultPercentIncrement:p})}catch(s){console.warn("No se pudo sincronizar el porcentaje por defecto con el backend:",s)}})()},[u?.id]),c.useEffect(()=>{(async()=>{if(u?.id)try{await g.updateProfile({defaultPercentIncrement:p})}catch(s){console.warn("No se pudo actualizar el porcentaje por defecto en el backend:",s)}})()},[p,u?.id]),c.useEffect(()=>{(async()=>{try{const s=localStorage.getItem("token");if(console.log("Token from localStorage:",s),!s){m("Usuario no autenticado. Por favor, inicia sesión.");return}if(console.log("Verificando trainerApi:",g),console.log("Verificando trainerApi.getClients:",g?g.getClients:"trainerApi no definido"),!g||typeof g.getClients!="function"){m("Error crítico: trainerApi.getClients no está disponible. Revisa la importación y el archivo api.ts."),console.error("trainerApi o trainerApi.getClients no es una función",g),I([]);return}const t=await g.getClients();console.log("Response from getClients (API call):",t);const a=t.data||[];if(Array.isArray(a)){const n=a.map(o=>({id:o.id,name:o.name||o.email}));I(n)}else console.error("La respuesta de getClients no es un array válido:",a),m("Error al cargar los clientes: formato de respuesta inesperado."),I([]);const i=[...q.map((n,o)=>({...n,id:`biceps_${o}`})),...V.map((n,o)=>({...n,id:`cardio_${o}`})),...T.map((n,o)=>({...n,id:`circuito_${o}`})),...U.map((n,o)=>({...n,id:`core_${o}`})),...H.map((n,o)=>({...n,id:`dorsales_${o}`})),...K.map((n,o)=>({...n,id:`espinales_${o}`})),...Q.map((n,o)=>({...n,id:`gemelos_${o}`})),...J.map((n,o)=>({...n,id:`gluteo_${o}`})),...Y.map((n,o)=>({...n,id:`hombros_${o}`})),...G.map((n,o)=>({...n,id:`isquios_${o}`})),...X.map((n,o)=>({...n,id:`movilidad_${o}`})),...Z.map((n,o)=>({...n,id:`pectorales_${o}`})),...ee.map((n,o)=>({...n,id:`piernas_${o}`})),...se.map((n,o)=>({...n,id:`potencia_${o}`})),...re.map((n,o)=>({...n,id:`triceps_${o}`}))];te(i),ae(i)}catch(s){console.error("Error fetching clients or exercises:",s),s.message&&s.message.includes("is not a function")?m("Error de configuración: `trainerApi.getClients` no es una función. Verifica la importación del módulo api."):s.response&&s.response.headers&&s.response.headers["content-type"]?.includes("text/html")?m("Error de autenticación o sesión expirada. Por favor, inicia sesión de nuevo."):m("Error al cargar datos iniciales. Intenta de nuevo más tarde."),I([])}})()},[]),c.useEffect(()=>{const r=P.state?.presetRoutine;if(r){console.log("Initializing with preset routine:",r);const s=r.exercises?.map((t,a)=>({id:`preset_${a}`,exerciseId:t.id||`preset_exercise_${a}`,name:t.name||t.exercise||"Ejercicio sin nombre",series:t.sets?.toString()||t.series?.toString()||"3",reps:t.reps?.toString()||t.repetitions?.toString()||"10",weight:t.weight?.toString()||"",notes:t.notes||"",image_url:t.image_url||""}))||[];x(t=>({...t,name:r.name||"Rutina Prediseñada",notes:r.description||r.notes||"",exercises:s})),w(s.map(()=>"")),b(s.map(()=>!1)),E(s.map(()=>!1)),S(s.map(t=>t.reps?.toString()||""))}},[P.state]),c.useEffect(()=>{const r=s=>{O.current.forEach((t,a)=>{if(t&&!t.contains(s.target)){const i=[...v];i[a]=!1,b(i)}})};return document.addEventListener("mousedown",r),()=>{document.removeEventListener("mousedown",r)}},[v]);const N=r=>{const{name:s,value:t}=r.target;x(a=>({...a,[s]:s==="totalWeeks"?Math.max(1,parseInt(t||"4",10)):t}))},ne=(r,s)=>{const t=[..._],a=[...v];t[r]=s,a[r]=s.length>0,w(t),b(a)},B=r=>{const s=_[r]?.toLowerCase()||"";return s===""?z:z.filter(t=>(t.name?t.name.toLowerCase():"").includes(s))},ie=(r,s)=>{const t=[..._],a=[...v];t[r]=s.name,a[r]=!1,w(t),b(a);const i={target:{name:"exerciseId",value:s.name}};C(r,i)},C=(r,s)=>{const{name:t,value:a}=s.target;console.log("Evento de cambio:",{name:t,value:a});const i=[...l.exercises];if(i[r]&&(console.log("Estado actual del ejercicio:",i[r]),i[r]={...i[r],[t]:a},t==="exerciseId")){const n=[q,V,T,U,H,K,Q,J,Y,G,X,Z,ee,se,re];let o=null;for(const d of n){const j=d.find(be=>be.name===a);if(j){o=j;break}}if(o){console.log("Ejercicio encontrado:",o);const d=Ee(o.name,300,200);i[r]={...i[r],name:o.name,exerciseId:o.name,image_url:d},console.log("Ejercicio actualizado con imagen de Cloudinary:",i[r])}else console.log("No se encontró el ejercicio:",a)}x(n=>{const o={...n,exercises:i};return console.log("Nuevo estado de rutina:",o),o})},le=()=>{x(r=>({...r,exercises:[...r.exercises,{id:Date.now().toString(),exerciseId:"",name:"",series:"",reps:"",weight:"",notes:"",image_url:""}]})),w(r=>[...r,""]),b(r=>[...r,!1]),E(r=>[...r,!1]),S(r=>[...r,""]),y(r=>[...r,[]]),R(r=>[...r,p])},ce=r=>{x(s=>({...s,exercises:s.exercises.filter((t,a)=>a!==r)})),w(s=>s.filter((t,a)=>a!==r)),b(s=>s.filter((t,a)=>a!==r)),E(s=>s.filter((t,a)=>a!==r)),S(s=>s.filter((t,a)=>a!==r)),y(s=>s.filter((t,a)=>a!==r)),R(s=>s.filter((t,a)=>a!==r))},de=r=>{const s=!h[r];E(t=>{const a=[...t];return a[r]=s,a}),s&&y(t=>{const a=[...t],i=f.length;return a[r]=a[r]&&a[r].length===i?a[r]:Array(i).fill(""),a}),x(t=>{const a=[...t.exercises];if(!a[r])return t;if(s)S(i=>{const n=[...i];return n[r]=a[r].reps||"",n}),a[r]={...a[r],reps:f.join("-")};else{const i=oe[r]||"";a[r]={...a[r],reps:i}}return{...t,exercises:a}})},ue=(r,s,t)=>{y(a=>{const i=[...a],n=i[r]?[...i[r]]:Array(f.length).fill("");return n[s]=t,i[r]=n,i})},me=(r,s)=>{const t=parseFloat(s);R(a=>{const i=[...a];return i[r]=isNaN(t)?p:t,i})},pe=(r,s=p)=>{const t=k[r]?.[0]||"",a=parseFloat(String(t).replace(",","."));isNaN(a)||y(i=>{const n=[...i],o=n[r]?[...n[r]]:Array(f.length).fill("");for(let d=0;d<f.length;d++){const j=d===0?a:a*Math.pow(1+s/100,d);o[d]=String(Math.round(j*10)/10)}return n[r]=o,n})},ge=async r=>{if(r.preventDefault(),m(null),D(null),console.log("Submitting routine data:",l),!l.name||!l.clientId||!l.duration||!l.trainingObjective||l.exercises.length===0){m("Por favor, completa todos los campos obligatorios y añade al menos un ejercicio.");return}for(const s of l.exercises)if(!s.exerciseId||!s.series||!s.reps){m("Por favor, completa todos los campos para cada ejercicio (ejercicio, series, repeticiones).");return}try{const s={...l,totalWeeks:typeof l.totalWeeks=="number"&&!isNaN(l.totalWeeks)?l.totalWeeks:4,exercises:l.exercises.map((a,i)=>{const n=h[i]&&k[i]?.length===f.length,o=n?(k[i]||[]).map(d=>{const j=parseFloat(String(d).replace(",","."));return isNaN(j)?0:Math.round(j*10)/10}):void 0;return{...a,weight:n&&o?o.map(d=>String(d)).join("-"):a.weight||"",weightsPerSeries:o}})},t=await g.createRoutine(s);console.log("Routine created successfully:",t.data),D("Rutina creada exitosamente!");try{localStorage.setItem("trainfit_trainingObjective_lastSelection",JSON.stringify({value:l.trainingObjective,timestamp:Date.now()}))}catch(a){console.warn("No se pudo guardar el objetivo en localStorage:",a)}x({name:"",clientId:"",duration:"",notes:"",exercises:[],trainingObjective:""}),E([]),S([]),y([]),R([])}catch(s){console.error("Error creating routine:",s),s.response&&s.response.data&&s.response.data.message?m(`Error al crear la rutina: ${s.response.data.message}`):s.response&&s.response.headers&&s.response.headers["content-type"]?.includes("text/html")?m("Error de autenticación al crear la rutina. Por favor, inicia sesión de nuevo."):m("Error al crear la rutina. Intenta de nuevo más tarde.")}},he=()=>!Array.isArray(F)||F.length===0?e.jsx("option",{value:"",children:"No hay clientes disponibles o cargando..."}):F.map(r=>e.jsx("option",{value:r.id,children:r.name},r.id)),fe=()=>{const r=localStorage.getItem("token");A(r?"/trainer-dashboard":"/")},xe=()=>{const r=P.state||{};if(r.fromLibrary){A("/trainer/routines/library",{state:{folder:r.folder}});return}fe()};return e.jsx("div",{className:"min-h-screen bg-[#1a1a1a] text-white p-6",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold text-[#ff4444]",children:"Crear Nueva Rutina"}),e.jsx("p",{className:"text-gray-400 mt-2",children:"Diseña una rutina personalizada para tu cliente"})]}),e.jsxs("button",{onClick:xe,className:"px-6 py-3 bg-transparent border border-[#555555] hover:bg-[#333333] hover:border-[#777777] rounded-lg font-medium transition-all duration-300",children:["← ",P.state?.fromLibrary?"Volver a la Biblioteca":"Volver al Dashboard"]})]}),L&&e.jsx("div",{className:"bg-[#dc3545]/10 border border-[#dc3545]/30 text-[#dc3545] px-6 py-4 rounded-lg mb-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 mr-3",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),e.jsxs("div",{children:[e.jsx("strong",{className:"font-semibold",children:"Error: "}),e.jsx("span",{children:L})]})]})}),M&&e.jsx("div",{className:"bg-[#28a745]/10 border border-[#28a745]/30 text-[#28a745] px-6 py-4 rounded-lg mb-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 mr-3",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),e.jsxs("div",{children:[e.jsx("strong",{className:"font-semibold",children:"¡Éxito! "}),e.jsx("span",{children:M})]})]})}),e.jsx("div",{className:"bg-[#2a2a2a] rounded-2xl shadow-2xl p-8",children:e.jsxs("form",{onSubmit:ge,className:"space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-300 mb-2",htmlFor:"name",children:["Nombre de la Rutina ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsx("input",{type:"text",id:"name",name:"name",value:l.name,onChange:N,className:"w-full px-4 py-3 bg-gray-700/50 border border-gray-600/50 rounded-xl text-white placeholder-gray-400 focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 transition-all duration-300 backdrop-blur-sm",placeholder:"Ej: Rutina de Fuerza - Semana 1",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-300 mb-2",htmlFor:"clientId",children:["Cliente ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsxs("select",{id:"clientId",name:"clientId",value:l.clientId,onChange:N,className:"w-full px-4 py-3 bg-[#1a1a1a] border border-[#555555] rounded-lg text-white focus:ring-2 focus:ring-[#ff4444] focus:border-[#ff4444] transition-all duration-300",required:!0,children:[e.jsx("option",{value:"",className:"bg-gray-700",children:"Selecciona un cliente"}),he()]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-300 mb-2",htmlFor:"trainingObjective",children:["Objetivo de entrenamiento ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsxs("select",{id:"trainingObjective",name:"trainingObjective",value:l.trainingObjective,onChange:N,className:"w-full px-4 py-3 bg-[#1a1a1a] border border-[#555555] rounded-lg text-white focus:ring-2 focus:ring-[#ff4444] focus:border-[#ff4444] transition-all duration-300",required:!0,children:[e.jsx("option",{value:"",children:"Selecciona un objetivo"}),e.jsx("option",{value:"Fuerza",children:"Fuerza"}),e.jsx("option",{value:"Hipertrofia",children:"Hipertrofia"}),e.jsx("option",{value:"Fuerza resistencia",children:"Fuerza resistencia"}),e.jsx("option",{value:"Resistencia cardio",children:"Resistencia cardio"}),e.jsx("option",{value:"Potencia",children:"Potencia"}),e.jsx("option",{value:"Quema grasa",children:"Quema grasa"}),e.jsx("option",{value:"Estética/salud general",children:"Estética/salud general"}),e.jsx("option",{value:"Movilidad",children:"Movilidad"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-300 mb-2",htmlFor:"duration",children:["Duración ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsx("input",{type:"text",id:"duration",name:"duration",value:l.duration,onChange:N,placeholder:"Ej: 45 minutos",className:"w-full px-4 py-3 bg-gray-700/50 border border-gray-600/50 rounded-xl text-white placeholder-gray-400 focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 transition-all duration-300 backdrop-blur-sm",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-300 mb-2",htmlFor:"totalWeeks",children:"Total de semanas"}),e.jsx("input",{type:"number",id:"totalWeeks",name:"totalWeeks",min:1,value:typeof l.totalWeeks=="number"?l.totalWeeks:4,onChange:N,placeholder:"Ej: 4",className:"w-full px-4 py-3 bg-gray-700/50 border border-gray-600/50 rounded-xl text-white placeholder-gray-400 focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 transition-all duration-300 backdrop-blur-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-300 mb-2",htmlFor:"notes",children:"Notas"}),e.jsx("textarea",{id:"notes",name:"notes",value:l.notes,onChange:N,rows:3,className:"w-full px-4 py-3 bg-gray-700/50 border border-gray-600/50 rounded-xl text-white placeholder-gray-400 focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 transition-all duration-300 backdrop-blur-sm resize-none",placeholder:"Notas adicionales sobre la rutina..."})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:"Ejercicios"}),e.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-300",children:[e.jsx("span",{className:"font-semibold",children:"Porcentaje por defecto:"}),e.jsxs("select",{value:p,onChange:r=>$(parseFloat(r.target.value)),className:"px-3 py-2 bg-[#1a1a1a] border border-[#555555] rounded-lg text-white",children:[e.jsx("option",{value:5,children:"5%"}),e.jsx("option",{value:7.5,children:"7.5%"}),e.jsx("option",{value:10,children:"10%"})]}),e.jsx("span",{className:"text-xs text-gray-400",children:"Los nuevos ejercicios heredan este valor."})]})]}),l.exercises.map((r,s)=>e.jsxs("div",{className:"bg-[#1a1a1a] border border-[#555555] rounded-lg p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("h4",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-sm font-bold",children:s+1}),"Ejercicio ",s+1]}),e.jsx("button",{type:"button",onClick:()=>ce(s),className:"bg-[#dc3545]/20 hover:bg-[#dc3545] text-[#dc3545] hover:text-white font-semibold py-2 px-4 rounded-lg transition-all duration-300 border border-[#dc3545]/30 hover:border-[#dc3545]",children:"Eliminar"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-4",children:[e.jsxs("div",{className:"relative",ref:t=>O.current[s]=t,children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-300 mb-2",children:["Ejercicio ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsx("input",{type:"text",value:_[s]||"",onChange:t=>ne(s,t.target.value),onFocus:()=>{const t=[...v];t[s]=!0,b(t)},placeholder:"Escribe para buscar ejercicios...",className:"w-full px-4 py-3 bg-[#1a1a1a] border border-[#555555] rounded-lg text-white placeholder-gray-400 focus:ring-2 focus:ring-[#ff4444] focus:border-[#ff4444] transition-all duration-300",required:!0}),v[s]&&e.jsx("div",{className:"absolute z-10 w-full bg-[#2a2a2a] border border-[#555555] rounded-lg shadow-lg max-h-60 overflow-y-auto mt-1",children:B(s).length>0?B(s).map(t=>e.jsx("div",{onClick:()=>ie(s,t),className:"px-4 py-3 hover:bg-[#333333] cursor-pointer border-b border-[#555555] last:border-b-0 text-white hover:text-[#ff4444] transition-all duration-200",children:t.name},t.id)):e.jsx("div",{className:"px-4 py-3 text-gray-400 text-sm",children:"No se encontraron ejercicios"})})]}),r.name&&e.jsxs("div",{className:"col-span-1 md:col-span-2 lg:col-span-1",children:[e.jsx("p",{className:"text-sm font-semibold text-gray-300 mb-2",children:"Imagen del ejercicio:"}),e.jsx(we,{exerciseName:r.name,width:300,height:200,className:"rounded-xl shadow-lg border border-gray-600/30",alt:r.name})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-300 mb-2",children:["Series ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsx("input",{type:"text",name:"series",value:r.series,onChange:t=>C(s,t),className:"w-full px-4 py-3 bg-[#1a1a1a] border border-[#555555] rounded-lg text-white placeholder-gray-400 focus:ring-2 focus:ring-[#ff4444] focus:border-[#ff4444] transition-all duration-300",placeholder:"Ej: 3",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-300 mb-2",children:["Repeticiones ",e.jsx("span",{className:"text-red-400",children:"*"})]}),e.jsx("input",{type:"text",name:"reps",value:r.reps,onChange:t=>C(s,t),className:"w-full px-4 py-3 bg-[#2a2a2a] border border-[#555555] rounded-lg text-white placeholder-gray-400 focus:ring-2 focus:ring-[#ff4444] focus:border-[#ff4444] transition-all duration-300",placeholder:"Ej: 12",required:!0,disabled:h[s]})]}),e.jsxs("div",{className:"col-span-full flex items-center gap-3",children:[e.jsxs("button",{type:"button",onClick:()=>de(s),className:`flex items-center gap-2 px-4 py-2 rounded-lg border transition-all duration-300 ${h[s]?"bg-[#ff4444] text-white border-[#ff4444]":"bg-[#1a1a1a] text-gray-200 border-[#555555] hover:bg-[#333333]"} `,"aria-pressed":h[s]?"true":"false",title:"Repeticiones piramidales",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 12h16M4 6h16M4 18h16"})}),"Repeticiones piramidales ",h[s]?"activadas":"desactivadas"]}),h[s]&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-300",children:[e.jsx("span",{className:"font-semibold",children:"Secuencia:"}),f.map((t,a)=>e.jsx("span",{className:"px-2 py-1 rounded bg-[#2a2a2a] border border-[#555555]",children:t},`${s}-seq-${a}`))]})]}),e.jsxs("div",{className:"col-span-full",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-300 mb-2",children:h[s]?"Peso por serie":"Peso"}),h[s]?e.jsxs("div",{children:[e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-3 mb-3",children:f.map((t,a)=>e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("span",{className:"text-xs text-gray-400 mb-1",children:["Serie ",a+1," (",t," reps)"]}),e.jsx("input",{type:"text",value:k[s]?.[a]||"",onChange:i=>ue(s,a,i.target.value),className:"w-full px-4 py-2.5 bg-gray-700/50 border border-gray-600/50 rounded-xl text-white placeholder-gray-400 focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 transition-all duration-300 backdrop-blur-sm",placeholder:"Ej: 20"})]},`${s}-w-${a}`))}),(k[s]?.[0]??"").toString().trim()!==""&&e.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-gray-300",children:"Incremento:"}),e.jsxs("select",{value:W[s]??p,onChange:t=>me(s,t.target.value),className:"px-3 py-2 bg-[#1a1a1a] border border-[#555555] rounded-lg text-white",children:[e.jsx("option",{value:5,children:"5%"}),e.jsx("option",{value:7.5,children:"7.5%"}),e.jsx("option",{value:10,children:"10%"})]})]}),e.jsx("button",{type:"button",onClick:()=>pe(s,W[s]??p),className:"bg-[#1a1a1a] hover:bg-[#333333] text-gray-200 font-medium py-2 px-4 rounded-lg transition-all duration-300 border border-[#555555]",title:`Sugerir pesos por serie (+${W[s]??p}% por serie)`,children:"Sugerir pesos"})]})]}):e.jsx("input",{type:"text",name:"weight",value:r.weight||"",onChange:t=>C(s,t),className:"w-full px-4 py-3 bg-gray-700/50 border border-gray-600/50 rounded-xl text-white placeholder-gray-400 focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500 transition-all duration-300 backdrop-blur-sm",placeholder:"Ej: 20kg"})]}),e.jsxs("div",{className:"col-span-full",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-300 mb-2",children:"Notas del ejercicio"}),e.jsx("textarea",{name:"notes",value:r.notes||"",onChange:t=>C(s,t),rows:3,className:"w-full px-4 py-3 bg-[#1a1a1a] border border-[#555555] rounded-lg text-white placeholder-gray-400 focus:ring-2 focus:ring-[#ff4444] focus:border-[#ff4444] transition-all duration-300 resize-none",placeholder:"Notas adicionales sobre este ejercicio..."})]})]})]},r.id)),e.jsx("div",{className:"flex justify-center",children:e.jsxs("button",{type:"button",onClick:le,className:"bg-[#ff4444] hover:bg-[#ff3333] text-white font-semibold py-2.5 px-6 rounded-lg transition-all duration-300 flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Agregar Ejercicio"]})})]}),e.jsx("div",{className:"flex justify-end pt-6",children:e.jsxs("button",{type:"submit",className:"bg-[#ff4444] hover:bg-[#ff3333] text-white font-bold py-4 px-8 rounded-lg transition-all duration-300 flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Crear Rutina"]})})]})})]})})};export{Ie as default};
