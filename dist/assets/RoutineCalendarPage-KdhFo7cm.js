import{r as i,j as e,u as w}from"./index-BJZa08pc.js";import{v as t,C as b,d as C,g as f,f as y,l as E,s as k}from"./react-big-calendar-DNk6tmJd.js";import{F}from"./ArrowLeftIcon-CTtRk3Gn.js";import{F as R}from"./CalendarIcon-BA0QlW6u.js";import"./defineProperty-BMO0z4KE.js";import"./typeof-QjJsDpFa.js";import"./removeClass-CFGF9p2m.js";import"./index-BNbO9ku5.js";const z={es:E},S=C({format:y,startOfWeek:n=>k(n,{weekStartsOn:1}),getDay:f,locales:z}),M=({onEventClick:n})=>{const[u,m]=i.useState([]),[N,g]=i.useState(!0),[l,c]=i.useState(t.MONTH),[p,v]=i.useState(new Date);i.useEffect(()=>{(async()=>{g(!0);try{const d=[{id:"1",title:"Rutina de Fuerza - Juan Pérez",start:new Date(2023,6,10,10,0),end:new Date(2023,6,10,11,0),clientId:"client1",clientName:"Juan Pérez",routineId:"routine1",routineName:"Rutina de Fuerza",color:"#4CAF50"},{id:"2",title:"Cardio - María López",start:new Date(2023,6,12,15,0),end:new Date(2023,6,12,16,0),clientId:"client2",clientName:"María López",routineId:"routine2",routineName:"Cardio",color:"#2196F3"},{id:"3",title:"Yoga - Carlos Rodríguez",start:new Date(2023,6,14,9,0),end:new Date(2023,6,14,10,30),clientId:"client3",clientName:"Carlos Rodríguez",routineId:"routine3",routineName:"Yoga",color:"#9C27B0"}],r=new Date,j=d.map(h=>{const s=new Date(h.start),o=new Date(h.end);return s.setFullYear(r.getFullYear()),s.setMonth(r.getMonth()),o.setFullYear(r.getFullYear()),o.setMonth(r.getMonth()),s<r&&(s.setDate(s.getDate()+7),o.setDate(o.getDate()+7)),{...h,start:s,end:o}});m(j)}catch(d){console.error("Error al cargar el calendario de rutinas:",d)}finally{g(!1)}})()},[]);const x=a=>{n?n(a):alert(`Evento: ${a.title}
Cliente: ${a.clientName}
Rutina: ${a.routineName}`)},D=a=>({style:{backgroundColor:a.color||"#3174ad",borderRadius:"5px",opacity:.8,color:"white",border:"none",display:"block"}});return e.jsx("div",{className:"routine-calendar-container",children:N?e.jsxs("div",{className:"calendar-loading",children:[e.jsx("div",{className:"spinner"}),e.jsx("p",{children:"Cargando calendario..."})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"calendar-header",children:[e.jsx("button",{className:"today-btn",onClick:()=>v(new Date),children:"Hoy"}),e.jsxs("div",{className:"view-selector",children:[e.jsx("button",{className:`view-btn ${l===t.MONTH?"active":""}`,onClick:()=>c(t.MONTH),children:"Mes"}),e.jsx("button",{className:`view-btn ${l===t.WEEK?"active":""}`,onClick:()=>c(t.WEEK),children:"Semana"}),e.jsx("button",{className:`view-btn ${l===t.DAY?"active":""}`,onClick:()=>c(t.DAY),children:"Día"})]})]}),e.jsx(b,{localizer:S,events:u,startAccessor:"start",endAccessor:"end",style:{height:500},onSelectEvent:x,eventPropGetter:D,view:l,onView:c,date:p,onNavigate:v,messages:{next:"Siguiente",previous:"Anterior",today:"Hoy",month:"Mes",week:"Semana",day:"Día",agenda:"Agenda",date:"Fecha",time:"Hora",event:"Evento",noEventsInRange:"No hay eventos en este rango"}})]})})},T=()=>{const n=w(),u=()=>{n("/trainer-dashboard")};return e.jsxs("div",{className:"routine-calendar-page",children:[e.jsxs("header",{className:"calendar-page-header",children:[e.jsxs("button",{onClick:u,className:"back-btn",title:"Volver al Dashboard",children:[e.jsx(F,{className:"back-icon"}),"Volver al Dashboard"]}),e.jsxs("div",{className:"page-title-section",children:[e.jsxs("h1",{className:"page-title",children:[e.jsx(R,{className:"title-icon"}),"Calendario de Rutinas"]}),e.jsx("p",{className:"page-description",children:"Organiza y visualiza las rutinas programadas para tus clientes"})]})]}),e.jsx("section",{className:"calendar-content",children:e.jsx(M,{onEventClick:m=>{console.log("Evento seleccionado:",m)}})})]})};export{T as default};
