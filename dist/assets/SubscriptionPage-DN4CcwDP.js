import{i as l,b as R,r as P,c as A,j as n}from"./index-BJZa08pc.js";import{P as d}from"./index-BNbO9ku5.js";import{c as H}from"./createLucideIcon-oAOawnFo.js";import{S as Ne}from"./star-E6Kp9FJA.js";import{C as Pe,X as ke}from"./x-BcSvllhB.js";import{C as Ae}from"./circle-alert-CNNDJ5BN.js";import{C as Oe}from"./check-CbLN4wTo.js";/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Re=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Ie=H("credit-card",Re);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],se=H("crown",Le);/**
 * @license lucide-react v0.534.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Te=H("zap",_e);function X(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);e&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(r,a).enumerable})),t.push.apply(t,s)}return t}function Z(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?X(Object(t),!0).forEach(function(s){ae(r,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):X(Object(t)).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(t,s))})}return r}function $(r){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?$=function(e){return typeof e}:$=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$(r)}function ae(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Ue(r,e){if(r==null)return{};var t={},s=Object.keys(r),a,o;for(o=0;o<s.length;o++)a=s[o],!(e.indexOf(a)>=0)&&(t[a]=r[a]);return t}function Me(r,e){if(r==null)return{};var t=Ue(r,e),s,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(r);for(a=0;a<o.length;a++)s=o[a],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(r,s)&&(t[s]=r[s])}return t}function oe(r,e){return $e(r)||De(r,e)||We(r,e)||Be()}function $e(r){if(Array.isArray(r))return r}function De(r,e){var t=r&&(typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"]);if(t!=null){var s=[],a=!0,o=!1,u,p;try{for(t=t.call(r);!(a=(u=t.next()).done)&&(s.push(u.value),!(e&&s.length===e));a=!0);}catch(i){o=!0,p=i}finally{try{!a&&t.return!=null&&t.return()}finally{if(o)throw p}}return s}}function We(r,e){if(r){if(typeof r=="string")return Q(r,e);var t=Object.prototype.toString.call(r).slice(8,-1);if(t==="Object"&&r.constructor&&(t=r.constructor.name),t==="Map"||t==="Set")return Array.from(r);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Q(r,e)}}function Q(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,s=new Array(e);t<e;t++)s[t]=r[t];return s}function Be(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var b=function(e,t,s){var a=!!s,o=l.useRef(s);l.useEffect(function(){o.current=s},[s]),l.useEffect(function(){if(!a||!e)return function(){};var u=function(){o.current&&o.current.apply(o,arguments)};return e.on(t,u),function(){e.off(t,u)}},[a,t,e,o])},F=function(e){var t=l.useRef(e);return l.useEffect(function(){t.current=e},[e]),t.current},O=function(e){return e!==null&&$(e)==="object"},qe=function(e){return O(e)&&typeof e.then=="function"},ze=function(e){return O(e)&&typeof e.elements=="function"&&typeof e.createToken=="function"&&typeof e.createPaymentMethod=="function"&&typeof e.confirmCardPayment=="function"},ee="[object Object]",Fe=function r(e,t){if(!O(e)||!O(t))return e===t;var s=Array.isArray(e),a=Array.isArray(t);if(s!==a)return!1;var o=Object.prototype.toString.call(e)===ee,u=Object.prototype.toString.call(t)===ee;if(o!==u)return!1;if(!o&&!s)return e===t;var p=Object.keys(e),i=Object.keys(t);if(p.length!==i.length)return!1;for(var x={},y=0;y<p.length;y+=1)x[p[y]]=!0;for(var S=0;S<i.length;S+=1)x[i[S]]=!0;var m=Object.keys(x);if(m.length!==p.length)return!1;var w=e,j=t,c=function(k){return r(w[k],j[k])};return m.every(c)},ie=function(e,t,s){return O(e)?Object.keys(e).reduce(function(a,o){var u=!O(t)||!Fe(e[o],t[o]);return s.includes(o)?(u&&console.warn("Unsupported prop change: options.".concat(o," is not a mutable property.")),a):u?Z(Z({},a||{}),{},ae({},o,e[o])):a},null):null},ce="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",te=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ce;if(e===null||ze(e))return e;throw new Error(t)},Ve=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ce;if(qe(e))return{tag:"async",stripePromise:Promise.resolve(e).then(function(a){return te(a,t)})};var s=te(e,t);return s===null?{tag:"empty"}:{tag:"sync",stripe:s}},He=function(e){!e||!e._registerWrapper||!e.registerAppInfo||(e._registerWrapper({name:"react-stripe-js",version:"3.9.0"}),e.registerAppInfo({name:"react-stripe-js",version:"3.9.0",url:"https://stripe.com/docs/stripe-js/react"}))},W=l.createContext(null);W.displayName="ElementsContext";var le=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e},ue=function(e){var t=e.stripe,s=e.options,a=e.children,o=l.useMemo(function(){return Ve(t)},[t]),u=l.useState(function(){return{stripe:o.tag==="sync"?o.stripe:null,elements:o.tag==="sync"?o.stripe.elements(s):null}}),p=oe(u,2),i=p[0],x=p[1];l.useEffect(function(){var m=!0,w=function(c){x(function(N){return N.stripe?N:{stripe:c,elements:c.elements(s)}})};return o.tag==="async"&&!i.stripe?o.stripePromise.then(function(j){j&&m&&w(j)}):o.tag==="sync"&&!i.stripe&&w(o.stripe),function(){m=!1}},[o,i,s]);var y=F(t);l.useEffect(function(){y!==null&&y!==t&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[y,t]);var S=F(s);return l.useEffect(function(){if(i.elements){var m=ie(s,S,["clientSecret","fonts"]);m&&i.elements.update(m)}},[s,S,i.elements]),l.useEffect(function(){He(i.stripe)},[i.stripe]),l.createElement(W.Provider,{value:i},a)};ue.propTypes={stripe:d.any,options:d.object};var Je=function(e){var t=l.useContext(W);return le(t,e)},Ke=function(){var e=Je("calls useElements()"),t=e.elements;return t};d.func.isRequired;var de=l.createContext(null);de.displayName="CheckoutSdkContext";var Ye=function(e,t){if(!e)throw new Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(t," in an <CheckoutProvider> provider."));return e},Ge=l.createContext(null);Ge.displayName="CheckoutContext";d.any,d.shape({fetchClientSecret:d.func.isRequired,elementsOptions:d.object}).isRequired;var V=function(e){var t=l.useContext(de),s=l.useContext(W);if(t&&s)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."));return t?Ye(t,e):le(s,e)},Xe=["mode"],Ze=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},f=function(e,t){var s="".concat(Ze(e),"Element"),a=function(i){var x=i.id,y=i.className,S=i.options,m=S===void 0?{}:S,w=i.onBlur,j=i.onFocus,c=i.onReady,N=i.onChange,k=i.onEscape,xe=i.onClick,ye=i.onLoadError,ve=i.onLoaderStart,ge=i.onNetworksChange,be=i.onConfirm,Se=i.onCancel,je=i.onShippingAddressChange,Ee=i.onShippingRateChange,_=V("mounts <".concat(s,">")),T="elements"in _?_.elements:null,E="checkoutSdk"in _?_.checkoutSdk:null,Ce=l.useState(null),J=oe(Ce,2),g=J[0],we=J[1],C=l.useRef(null),B=l.useRef(null);b(g,"blur",w),b(g,"focus",j),b(g,"escape",k),b(g,"click",xe),b(g,"loaderror",ye),b(g,"loaderstart",ve),b(g,"networkschange",ge),b(g,"confirm",be),b(g,"cancel",Se),b(g,"shippingaddresschange",je),b(g,"shippingratechange",Ee),b(g,"change",N);var q;c&&(e==="expressCheckout"?q=c:q=function(){c(g)}),b(g,"ready",q),l.useLayoutEffect(function(){if(C.current===null&&B.current!==null&&(T||E)){var v=null;if(E)switch(e){case"payment":v=E.createPaymentElement(m);break;case"address":if("mode"in m){var Y=m.mode,G=Me(m,Xe);if(Y==="shipping")v=E.createShippingAddressElement(G);else if(Y==="billing")v=E.createBillingAddressElement(G);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":v=E.createExpressCheckoutElement(m);break;case"currencySelector":v=E.createCurrencySelectorElement();break;case"taxId":v=E.createTaxIdElement(m);break;default:throw new Error("Invalid Element type ".concat(s,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else T&&(v=T.create(e,m));C.current=v,we(v),v&&v.mount(B.current)}},[T,E,m]);var K=F(m);return l.useEffect(function(){if(C.current){var v=ie(m,K,["paymentRequest"]);v&&"update"in C.current&&C.current.update(v)}},[m,K]),l.useLayoutEffect(function(){return function(){if(C.current&&typeof C.current.destroy=="function")try{C.current.destroy(),C.current=null}catch{}}},[]),l.createElement("div",{id:x,className:y,ref:B})},o=function(i){V("mounts <".concat(s,">"));var x=i.id,y=i.className;return l.createElement("div",{id:x,className:y})},u=t?o:a;return u.propTypes={id:d.string,className:d.string,onChange:d.func,onBlur:d.func,onFocus:d.func,onReady:d.func,onEscape:d.func,onClick:d.func,onLoadError:d.func,onLoaderStart:d.func,onNetworksChange:d.func,onConfirm:d.func,onCancel:d.func,onShippingAddressChange:d.func,onShippingRateChange:d.func,options:d.object},u.displayName=s,u.__elementType=e,u},h=typeof window>"u",Qe=l.createContext(null);Qe.displayName="EmbeddedCheckoutProviderContext";var et=function(){var e=V("calls useStripe()"),t=e.stripe;return t};f("auBankAccount",h);var re=f("card",h);f("cardNumber",h);f("cardExpiry",h);f("cardCvc",h);f("fpxBank",h);f("iban",h);f("idealBank",h);f("p24Bank",h);f("epsBank",h);f("payment",h);f("expressCheckout",h);f("currencySelector",h);f("paymentRequestButton",h);f("linkAuthentication",h);f("address",h);f("shippingAddress",h);f("paymentMethodMessaging",h);f("affirmMessage",h);f("afterpayClearpayMessage",h);f("taxId",h);var pe="basil",tt=function(e){return e===3?"v3":e},me="https://js.stripe.com",rt="".concat(me,"/").concat(pe,"/stripe.js"),nt=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,st=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var at=function(e){return nt.test(e)||st.test(e)},ot=function(){for(var e=document.querySelectorAll('script[src^="'.concat(me,'"]')),t=0;t<e.length;t++){var s=e[t];if(at(s.src))return s}return null},ne=function(e){var t="",s=document.createElement("script");s.src="".concat(rt).concat(t);var a=document.head||document.body;if(!a)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return a.appendChild(s),s},it=function(e,t){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"7.8.0",startTime:t})},I=null,U=null,M=null,ct=function(e){return function(t){e(new Error("Failed to load Stripe.js",{cause:t}))}},lt=function(e,t){return function(){window.Stripe?e(window.Stripe):t(new Error("Stripe.js not available"))}},ut=function(e){return I!==null?I:(I=new Promise(function(t,s){if(typeof window>"u"||typeof document>"u"){t(null);return}if(window.Stripe){t(window.Stripe);return}try{var a=ot();if(!(a&&e)){if(!a)a=ne(e);else if(a&&M!==null&&U!==null){var o;a.removeEventListener("load",M),a.removeEventListener("error",U),(o=a.parentNode)===null||o===void 0||o.removeChild(a),a=ne(e)}}M=lt(t,s),U=ct(s),a.addEventListener("load",M),a.addEventListener("error",U)}catch(u){s(u);return}}),I.catch(function(t){return I=null,Promise.reject(t)}))},dt=function(e,t,s){if(e===null)return null;var a=t[0],o=a.match(/^pk_test/),u=tt(e.version),p=pe;o&&u!==p&&console.warn("Stripe.js@".concat(u," was loaded on the page, but @stripe/stripe-js@").concat("7.8.0"," expected Stripe.js@").concat(p,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var i=e.apply(void 0,t);return it(i,s),i},L,fe=!1,he=function(){return L||(L=ut(null).catch(function(e){return L=null,Promise.reject(e)}),L)};Promise.resolve().then(function(){return he()}).catch(function(r){fe||console.warn(r)});var pt=function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];fe=!0;var a=Date.now();return he().then(function(o){return dt(o,t,a)})};const mt="pk_test_51234567890abcdef1234567890abcdef1234567890abcdef1234567890abcdef",ft=pt(mt),ht={BASIC:{id:"BASIC",name:"Básico",price:29.99,priceId:"price_basic_monthly",icon:Ne,color:"from-blue-500 to-blue-600",popular:!1,features:["Hasta 10 clientes","Rutinas básicas","Seguimiento de progreso","Soporte por email"]},PREMIUM:{id:"PREMIUM",name:"Premium",price:49.99,priceId:"price_premium_monthly",icon:se,color:"from-purple-500 to-purple-600",popular:!0,features:["Hasta 50 clientes","Rutinas avanzadas","Análisis detallado","Planes de nutrición","Soporte prioritario"]},PROFESSIONAL:{id:"PROFESSIONAL",name:"Profesional",price:99.99,priceId:"price_professional_monthly",icon:Te,color:"from-gold-500 to-gold-600",popular:!1,features:["Clientes ilimitados","Todas las funciones","API personalizada","Reportes avanzados","Soporte 24/7"]}},D={createSubscription:async(r,e)=>(await R.post("/payments/create-subscription",{plan:r,paymentMethodId:e})).data,getCurrentSubscription:async()=>{try{return(await R.get("/payments/subscription")).data.subscription}catch(r){if(r.response?.status===404)return null;throw r}},cancelSubscription:async()=>(await R.post("/payments/cancel-subscription")).data,getPaymentHistory:async()=>(await R.get("/payments/history")).data.payments||[],createPaymentIntent:async r=>(await R.post("/payments/create-payment-intent",{planId:r})).data},z=Object.values(ht),xt=({selectedPlan:r,onSuccess:e})=>{const t=et(),s=Ke(),[a,o]=P.useState(!1),u=async p=>{if(p.preventDefault(),!(!t||!s)){o(!0);try{const i=s.getElement(re);if(!i)throw new Error("Card element not found");const{error:x,paymentMethod:y}=await t.createPaymentMethod({type:"card",card:i});if(x)throw x;await D.createSubscription(r,y.id),A.success("¡Suscripción creada exitosamente!"),e()}catch(i){console.error("Error:",i),A.error(i.message||"Error al procesar el pago")}finally{o(!1)}}};return n.jsxs("form",{onSubmit:u,className:"space-y-6",children:[n.jsx("div",{className:"p-4 border border-gray-200 rounded-lg",children:n.jsx(re,{options:{style:{base:{fontSize:"16px",color:"#424770","::placeholder":{color:"#aab7c4"}}}}})}),n.jsx("button",{type:"submit",disabled:!t||a,className:"w-full bg-blue-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center",children:a?n.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):n.jsxs(n.Fragment,{children:[n.jsx(Ie,{className:"w-5 h-5 mr-2"}),"Suscribirse"]})})]})},Ct=()=>{const[r,e]=P.useState(null),[t,s]=P.useState([]),[a,o]=P.useState(""),[u,p]=P.useState(!1),[i,x]=P.useState(!0);P.useEffect(()=>{y(),S()},[]);const y=async()=>{try{const c=await D.getCurrentSubscription();e(c)}catch(c){console.error("Error fetching subscription:",c),A.error("Error al cargar la suscripción")}finally{x(!1)}},S=async()=>{try{const c=await D.getPaymentHistory();s(c)}catch(c){console.error("Error fetching payment history:",c),A.error("Error al cargar el historial de pagos")}},m=async()=>{if(window.confirm("¿Estás seguro de que quieres cancelar tu suscripción?"))try{x(!0),await D.cancelSubscription(),r&&e({...r,cancelAtPeriodEnd:!0}),A.success("Suscripción cancelada. Se mantendrá activa hasta el final del período actual.")}catch(c){console.error("Error canceling subscription:",c),A.error("Error al cancelar la suscripción")}finally{x(!1)}},w=c=>{o(c),p(!0)},j=()=>{p(!1),o(""),y(),S()};return i?n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):n.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"text-center mb-12",children:[n.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Planes de Suscripción"}),n.jsx("p",{className:"text-xl text-gray-600",children:"Elige el plan que mejor se adapte a tus necesidades"})]}),r&&n.jsxs("div",{className:"mb-12 bg-white rounded-lg shadow-md p-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Tu Suscripción Actual"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"flex items-center",children:[n.jsx(se,{className:"w-8 h-8 text-purple-600 mr-3"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Plan"}),n.jsx("p",{className:"text-lg font-semibold",children:r.plan})]})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(Pe,{className:"w-8 h-8 text-blue-600 mr-3"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Próximo pago"}),n.jsx("p",{className:"text-lg font-semibold",children:new Date(r.currentPeriodEnd).toLocaleDateString()})]})]}),n.jsxs("div",{className:"flex items-center",children:[n.jsx(Ae,{className:`w-8 h-8 mr-3 ${r.status==="ACTIVE"?"text-green-600":"text-red-600"}`}),n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Estado"}),n.jsx("p",{className:"text-lg font-semibold",children:r.status})]})]})]}),r.status==="ACTIVE"&&!r.cancelAtPeriodEnd&&n.jsx("div",{className:"mt-6",children:n.jsx("button",{onClick:m,className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700",children:"Cancelar Suscripción"})}),r.cancelAtPeriodEnd&&n.jsx("div",{className:"mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:n.jsxs("p",{className:"text-yellow-800",children:["Tu suscripción se cancelará al final del período actual (",new Date(r.currentPeriodEnd).toLocaleDateString(),")"]})})]}),(!r||r.status!=="ACTIVE")&&n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-12",children:z.map(c=>n.jsxs("div",{className:`relative bg-white rounded-lg shadow-lg overflow-hidden ${c.popular?"ring-2 ring-purple-500":""}`,children:[c.popular&&n.jsx("div",{className:"absolute top-0 left-0 right-0 bg-purple-500 text-white text-center py-2 text-sm font-medium",children:"Más Popular"}),n.jsxs("div",{className:`bg-gradient-to-r ${c.color} p-6 text-white ${c.popular?"pt-12":""}`,children:[n.jsx("div",{className:"flex items-center justify-center mb-4",children:n.jsx(c.icon,{className:"w-8 h-8"})}),n.jsx("h3",{className:"text-2xl font-bold text-center",children:c.name}),n.jsxs("div",{className:"text-center mt-4",children:[n.jsxs("span",{className:"text-4xl font-bold",children:["$",c.price]}),n.jsx("span",{className:"text-lg",children:"/mes"})]})]}),n.jsxs("div",{className:"p-6",children:[n.jsx("ul",{className:"space-y-3 mb-6",children:c.features.map((N,k)=>n.jsxs("li",{className:"flex items-center",children:[n.jsx(Oe,{className:"w-5 h-5 text-green-500 mr-3"}),n.jsx("span",{className:"text-gray-700",children:N})]},k))}),n.jsx("button",{onClick:()=>w(c.id),className:`w-full py-3 px-4 rounded-lg font-medium transition-colors ${c.popular?"bg-purple-600 text-white hover:bg-purple-700":"bg-gray-100 text-gray-900 hover:bg-gray-200"}`,children:"Seleccionar Plan"})]})]},c.id))}),u&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:n.jsxs("div",{className:"bg-white rounded-lg p-8 max-w-md w-full mx-4",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h3",{className:"text-2xl font-bold",children:"Completar Suscripción"}),n.jsx("button",{onClick:()=>p(!1),className:"text-gray-500 hover:text-gray-700",children:n.jsx(ke,{className:"w-6 h-6"})})]}),n.jsxs("div",{className:"mb-6",children:[n.jsxs("p",{className:"text-lg",children:["Plan seleccionado: ",n.jsx("strong",{children:z.find(c=>c.id===a)?.name})]}),n.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:["$",z.find(c=>c.id===a)?.price,"/mes"]})]}),n.jsx(ue,{stripe:ft,children:n.jsx(xt,{selectedPlan:a,onSuccess:j})})]})}),t.length>0&&n.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Historial de Pagos"}),n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fecha"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Descripción"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Monto"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(c=>n.jsxs("tr",{children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(c.paidAt).toLocaleDateString()}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:c.description}),n.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["$",c.amount," ",c.currency.toUpperCase()]}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${c.status==="SUCCEEDED"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:c.status})})]},c.id))})]})})]})]})})};export{Ct as default};
