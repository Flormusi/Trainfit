const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/notificationService-7ooiPyeI.js","assets/index-BJZa08pc.js","assets/index-CyiEc2V0.css"])))=>i.map(i=>d[i]);
import{e as Le,u as Be,h as Oe,r as m,c as h,j as e,_ as $e}from"./index-BJZa08pc.js";import{t as oe}from"./api-B3G-AdDD.js";import{E as He}from"./jspdf.es.min-vLZb4qFO.js";import"./typeof-QjJsDpFa.js";const Ve=()=>{const{clientId:D}=Le(),F=Be(),_=Oe(),[s,ye]=m.useState(null),[E,ne]=m.useState([]),[v,ae]=m.useState(null),[je,se]=m.useState(!0),[ie,Se]=m.useState(null),[ve,le]=m.useState(!1),[T,M]=m.useState("resumen"),[x,Y]=m.useState(null),[Ce,G]=m.useState(!1),[we,V]=m.useState(!1),[de,ce]=m.useState(""),[q,pe]=m.useState("");m.useEffect(()=>{D&&J()},[D]),m.useEffect(()=>{console.log("üîç useEffect triggered - location.search:",_.search);const r=new URLSearchParams(_.search).get("updated");if(console.log("üîç Updated param value:",r),r==="true"){console.log("üîÑ Cliente actualizado detectado, recargando datos..."),h.success("Datos del cliente actualizados correctamente"),J();const o=window.location.pathname;console.log("üîÑ Limpiando URL de:",window.location.href,"a:",o),window.history.replaceState({},"",o)}},[_.search]);const Ee=()=>{console.log("üîÑ Refrescando datos del cliente..."),J(),h.success("Datos actualizados")},J=async()=>{try{se(!0);const[t,r]=await Promise.all([oe.getClientDetails(D),oe.getClientRoutines(D)]);ye(t);const o=r.data||[],a=o.filter((n,f,C)=>f===C.findIndex(y=>y.id===n.id));ne(a),console.log("üîç === DATOS DEL CLIENTE RECIBIDOS ==="),console.log("üîç Client data completo:",JSON.stringify(t,null,2)),console.log("üîç Client Profile:",t?.clientProfile),console.log("üîç Age (profile):",t?.clientProfile?.age),console.log("üîç Age (direct):",t?.age),console.log("üîç Gender (profile):",t?.clientProfile?.gender),console.log("üîç Gender (direct):",t?.gender),console.log("üîç Fitness Level (profile):",t?.clientProfile?.fitnessLevel),console.log("üîç Fitness Level (direct):",t?.fitnessLevel),console.log("üîç === FIN DATOS DEL CLIENTE ==="),console.log("üîç Raw routines data:",o),console.log("üîç Unique routines after filter:",a),console.log("üîç Duplicates removed:",o.length-a.length),ae({status:"paid",amount:15e3,dueDate:new Date(Date.now()+30*24*60*60*1e3).toISOString(),lastPayment:new Date().toISOString()})}catch(t){console.error("Error fetching client data:",t),Se("Error al cargar los datos del cliente"),h.error("Error al cargar los datos del cliente")}finally{se(!1)}},Te=async()=>{try{if(!s?.id){h.error("No se pudo identificar al cliente");return}console.log("Enviando recordatorio de pago al cliente:",s?.name);const{default:t}=await $e(async()=>{const{default:o}=await import("./notificationService-7ooiPyeI.js");return{default:o}},__vite__mapDeps([0,1,2])),r=await t.sendManualPaymentReminder(s.id);r.success?h.success(r.message||"Recordatorio de pago enviado exitosamente"):h.error(r.message||"Error al enviar recordatorio de pago")}catch(t){console.error("Error enviando recordatorio:",t),h.error("Error al enviar recordatorio de pago")}},ke=()=>{v&&(ce(v.amount.toString()),pe(new Date(v.dueDate).toISOString().split("T")[0])),V(!0)},Re=async()=>{try{const t=parseFloat(de);if(isNaN(t)||t<=0){h.error("El monto debe ser un n√∫mero v√°lido mayor a 0");return}if(!q){h.error("Debe seleccionar una fecha de vencimiento");return}ae(r=>r?{...r,amount:t,dueDate:new Date(q).toISOString()}:null),h.success("Informaci√≥n de pago actualizada correctamente"),V(!1)}catch(t){console.error("Error updating payment:",t),h.error("Error al actualizar la informaci√≥n de pago")}},ge=()=>{F(`/trainer/clients/${D}/edit`)},ze=()=>E.find(t=>t.status==="active")||E[0],X=()=>{if(!E||E.length===0)return 0;const r=E.find(a=>a.status==="active")||[...E].sort((a,n)=>new Date(n.assignedDate).getTime()-new Date(a.assignedDate).getTime())[0],o=Number(r?.progress)||0;return Math.max(0,Math.min(100,Math.round(o)))},Ie=t=>t>=80?"#10b981":t>=40?"#f59e0b":"#dc2626",Pe=()=>{if(!s)return{isComplete:!1,missingFields:[]};const t=[];return s.phone||t.push("Tel√©fono"),s.weight||t.push("Peso"),s.height||t.push("Altura"),(!s.goals||s.goals.length===0)&&t.push("Objetivos"),{isComplete:t.length===0,missingFields:t}},De=async t=>{try{if(!t||typeof t!="string")return console.warn("URL de imagen inv√°lida:",t),null;const r=new AbortController,o=setTimeout(()=>r.abort(),1e4),a=await fetch(t,{signal:r.signal,mode:"cors",headers:{Accept:"image/*"}});if(clearTimeout(o),!a.ok)return console.warn(`Error al cargar imagen: ${a.status} ${a.statusText}`),null;const n=await a.blob();return n.type.startsWith("image/")?new Promise(f=>{const C=new FileReader;C.onload=()=>f(C.result),C.onerror=y=>{console.error("Error al leer archivo:",y),f(null)},C.readAsDataURL(n)}):(console.warn("El archivo no es una imagen v√°lida:",n.type),null)}catch(r){const o=r;return o?.name==="AbortError"?console.warn("Timeout al cargar imagen:",t):console.error("Error converting image to base64:",o),null}},Ne=async t=>{try{if(!t){h.error("No se encontr√≥ la rutina seleccionada");return}if(!t.name){h.error("La rutina no tiene nombre v√°lido");return}const r=new He("l","mm","a4"),o=r.internal.pageSize.getWidth(),a=r.internal.pageSize.getHeight();let n=15;const f=[220,38,38],C=[255,107,53],y=[10,10,10],xe=[26,26,26],Z=[156,163,175],R=[255,255,255];r.setFillColor(...y),r.rect(0,0,o,35,"F");try{const i=await(await fetch("/images/logo-trainfit.png")).blob(),j=await new Promise(W=>{const I=new FileReader;I.onload=()=>W(I.result),I.readAsDataURL(i)}),p=new Image;p.src=j,await new Promise(W=>{p.onload=W});const B=p.naturalWidth||0,O=p.naturalHeight||0,N=16,ee=B&&O?N*(B/O):24;r.addImage(p,"PNG",12,9,ee,N)}catch{r.setTextColor(...R),r.setFontSize(18),r.setFont("helvetica","bold"),r.text("TRAINFIT",15,15)}r.setFontSize(10),r.setFont("helvetica","normal"),r.setTextColor(...R),r.text("FITNESS & TRAINING",15,25);const Ae=t.name||"Rutina";r.setFont("helvetica","bold"),r.setFontSize(26),r.text(`Plan de Entrenamiento - ${Ae}`,o/2,22,{align:"center"}),r.setFont("helvetica","normal"),r.setFontSize(10),r.text(`Cliente: ${s?.name||"N/A"} ‚Ä¢ Fecha: ${new Date().toLocaleDateString("es-ES")} ‚Ä¢ Progreso: ${t.progress||0}%`,o/2,30,{align:"center"}),r.setDrawColor(230,230,230),r.setLineWidth(.5),r.line(15,35,o-15,35),n=45,r.setTextColor(...y),r.setFillColor(...xe),r.rect(15,n,o-30,25,"F"),r.setDrawColor(...Z),r.setLineWidth(.25),r.rect(15,n,o-30,25),r.setFontSize(12),r.setFont("helvetica","bold"),r.setTextColor(...R),r.text("INFORMACI√ìN GENERAL",20,n+10),r.setFont("helvetica","normal"),r.setFontSize(10),r.setTextColor(...Z);const U=n+16;r.text(`Cliente: ${s?.name||"N/A"}`,20,U),r.text(`Fecha: ${new Date().toLocaleDateString("es-ES")}`,o/2-30,U),r.text(`Estado: ${t.status==="active"?"Activa":t.status==="completed"?"Completada":"Pausada"}`,o-80,U),r.text(`Progreso: ${t.progress||0}%`,20,U+6),n+=35;let L=t.exercises;if(typeof L=="string")try{L=JSON.parse(L)}catch(l){console.error("Error parsing exercises:",l),L=[]}h.loading("Generando PDF con im√°genes...",{duration:3e3});const ue=await Promise.allSettled(L?.map(async l=>{const i=l.imageUrl||l.image_url||l.image;let j=null;if(i)try{j=await De(i)}catch(p){console.warn(`Error cargando imagen para ejercicio ${l.name}:`,p),j=null}return{...l,imageBase64:j}})||[]).then(l=>l.map(i=>i.status==="fulfilled"?i.value:{name:"Ejercicio sin datos",imageBase64:null})),he=l=>{const i=String(l??"").trim();return i?i.includes("-")?i.split("-").map(j=>j.trim()).join(" ¬∑ "):i:"-"},fe=["#","Imagen","Ejercicio","Series","Reps","Peso","Descanso"],z=15,K=o-30,c=[12,46,80,22,34,34,39];let d=z;r.setFillColor(...f),r.rect(z,n,K,14,"F"),r.setTextColor(...R),r.setFont("helvetica","bold"),r.setFontSize(11),fe.forEach((l,i)=>{r.text(l,d+c[i]/2,n+9,{align:"center"}),d+=c[i]}),n+=14,r.setTextColor(...y),r.setFont("helvetica","normal");for(let l=0;l<ue.length;l++){const i=ue[l],j=!!i.notes&&String(i.notes).trim()!=="",p=j?54:50;n+p>a-25&&(r.addPage(),n=20,r.setFillColor(...f),r.rect(z,n,K,14,"F"),r.setTextColor(...R),r.setFont("helvetica","bold"),r.setFontSize(11),d=z,fe.forEach((g,u)=>{r.text(g,d+c[u]/2,n+9,{align:"center"}),d+=c[u]}),n+=14,r.setTextColor(...y),r.setFont("helvetica","normal")),l%2===0&&(r.setFillColor(245,245,245),r.rect(z,n,K,p,"F")),r.setDrawColor(...Z),r.setLineWidth(.25),d=z,c.forEach(g=>{r.rect(d,n,g,p),d+=g}),d=z,r.setFillColor(...f);const B=d+c[0]/2,O=n+p/2;if(r.circle(B,O,5,"F"),r.setTextColor(...R),r.setFontSize(10),r.setFont("helvetica","bold"),r.text((l+1).toString(),B,O+2,{align:"center"}),d+=c[0],r.setTextColor(...y),r.setFont("helvetica","normal"),i.imageBase64)try{const u=c[1]-8,w=p-12,b=new Image;b.src=i.imageBase64,await new Promise(Me=>{b.onload=Me});const S=b.naturalWidth||1,k=b.naturalHeight||1,P=Math.min(u/S,w/k),$=Math.max(1,Math.min(S*P,u)),A=Math.max(1,Math.min(k*P,w)),H=d+4+(u-$)/2,re=n+(p-A)/2;r.addImage(b,"JPEG",H,re,$,A,void 0,"MEDIUM")}catch(g){console.error("Error adding image to PDF:",g),r.setFontSize(8),r.setTextColor(180,180,180),r.text("SIN IMAGEN",d+c[1]/2,n+p/2,{align:"center"})}else r.setFontSize(8),r.setTextColor(180,180,180),r.text("SIN IMAGEN",d+c[1]/2,n+p/2,{align:"center"});d+=c[1];const N=i.name||"N/A",ee=N.toLowerCase().includes("unilateral")?`${N} (por lado)`:N;r.setFontSize(10),r.setTextColor(0,0,0),r.setFont("helvetica","normal");const W=n+(j?p/2-4:p/2),I=r.splitTextToSize(ee,c[2]-6),te=Array.isArray(I)?I.slice(0,2):[I];if(te.forEach((g,u)=>{r.text(g,d+3,W+u*4)}),j){const g=String(i.notes),u=r.splitTextToSize(g,c[2]-6),w=Array.isArray(u)?u.slice(0,2):[u];r.setFont("helvetica","italic"),r.setTextColor(110,110,110);const b=W+(Array.isArray(te)?te.length*4:4)+2;w.forEach((S,k)=>{r.text(S,d+3,b+k*4)}),r.setFont("helvetica","normal"),r.setTextColor(...y)}d+=c[2],r.setFont("helvetica","bold"),r.setFontSize(10),r.setTextColor(...xe),r.text(i.sets?.toString()||i.series?.toString()||"-",d+c[3]/2,n+p/2,{align:"center"}),d+=c[3];{const g=he(i.reps?.toString()||"-"),u=c[4]-6,w=r.splitTextToSize(g,u),b=Array.isArray(w)?w.slice(0,2):[w],S=4,P=n+p/2-(b.length-1)*S/2;b.forEach(($,A)=>{r.text($,d+c[4]/2,P+A*S,{align:"center"})})}d+=c[4];{const g=i.weightsPerSeries,u=Array.isArray(g)&&g.length>0?g.map(H=>String(H).replace(/kg/gi,"").trim()).join("-"):i.weight,w=u!=null&&String(u).trim()!==""?he(String(u).replace(/kg/gi,"").trim())+" kg":"-",b=c[5]-6,S=r.splitTextToSize(w,b),k=Array.isArray(S)?S.slice(0,2):[S],P=4,A=n+p/2-(k.length-1)*P/2;k.forEach((H,re)=>{r.text(H,d+c[5]/2,A+re*P,{align:"center"})})}d+=c[5];{const g=i.restTime??i.rest_time,u=g!=null&&String(g).trim()!==""?`${g}s`:"-";r.text(u,d+c[6]/2,n+p/2,{align:"center"})}n+=p}const me=22,Q=a-me,be=r.getNumberOfPages();for(let l=1;l<=be;l++)r.setPage(l),r.setFillColor(...y),r.rect(0,Q,o,me,"F"),r.setTextColor(...R),r.setFont("helvetica","normal"),r.setFontSize(9),r.text("Trainfit - Tu entrenamiento a medida",o/2,Q+14,{align:"center"}),r.setFontSize(8),r.text(`P√°gina ${l} de ${be}`,o-20,Q+14,{align:"right"});const Fe=`rutina-${t.name.replace(/[^a-zA-Z0-9]/g,"-").toLowerCase()}-${s?.name?.replace(/[^a-zA-Z0-9]/g,"-").toLowerCase()||"cliente"}.pdf`;r.save(Fe),h.success("PDF con dise√±o Trainfit generado correctamente")}catch(r){const o=r instanceof Error?r.message:String(r);console.error("Error generando PDF:",o),o.includes("fetch")?h.error("Error al cargar las im√°genes. PDF generado sin im√°genes."):o.includes("jsPDF")?h.error("Error en la generaci√≥n del PDF. Verifica los datos de la rutina."):h.error(`Error al generar el PDF: ${o||"Error desconocido"}`)}},We=t=>{F(`/trainer/routines/${t}/edit`),G(!1),Y(null)};return je?e.jsx("div",{className:"trainer-client-progress-page",children:e.jsx("div",{className:"loading-container",children:e.jsx("p",{children:"Cargando informaci√≥n del cliente..."})})}):ie||!s?e.jsx("div",{className:"trainer-client-progress-page",children:e.jsxs("div",{className:"error-container",children:[e.jsx("h2",{children:"Error"}),e.jsx("p",{children:ie||"Cliente no encontrado"}),e.jsx("button",{onClick:()=>F("/trainer/clients"),className:"btn-back-to-dashboard",children:"Volver a Clientes"})]})}):(Pe(),ze(),e.jsxs("div",{style:{backgroundColor:"#0a0a0a",minHeight:"100vh",padding:"24px",color:"white",border:"none",outline:"none",boxShadow:"none"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px",border:"none",outline:"none",boxShadow:"none"},children:[e.jsxs("button",{onClick:()=>F("/trainer/clients"),style:{display:"flex",alignItems:"center",gap:"8px",backgroundColor:"transparent",border:"none",color:"white",fontSize:"18px",fontWeight:"600",cursor:"pointer",outline:"none",boxShadow:"none"},children:[e.jsx("span",{style:{fontSize:"20px"},children:"‚Üê"}),"Volver a Clientes"]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",border:"none",outline:"none",boxShadow:"none"},children:[e.jsx("span",{style:{width:"8px",height:"8px",backgroundColor:"#10b981",borderRadius:"50%",border:"none",outline:"none",boxShadow:"none"}}),"Activo",e.jsx("button",{onClick:()=>F(`/trainer/messages?to=${D}`),style:{marginLeft:"12px",padding:"8px 14px",background:"linear-gradient(135deg, #b91c1c 0%, #dc2626 100%)",color:"white",border:"1px solid rgba(220, 38, 38, 0.3)",borderRadius:"8px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease",boxShadow:`
                0 4px 12px rgba(220, 38, 38, 0.3),
                0 2px 6px rgba(0, 0, 0, 0.2),
                inset 0 1px 0 rgba(255, 255, 255, 0.2)
              `},onMouseEnter:t=>{t.currentTarget.style.background="linear-gradient(135deg, #dc2626 0%, #ef4444 100%)",t.currentTarget.style.transform="translateY(-1px)",t.currentTarget.style.boxShadow=`
                0 6px 16px rgba(220, 38, 38, 0.4),
                0 2px 8px rgba(0, 0, 0, 0.2),
                inset 0 1px 0 rgba(255, 255, 255, 0.2)
              `},onMouseLeave:t=>{t.currentTarget.style.background="linear-gradient(135deg, #b91c1c 0%, #dc2626 100%)",t.currentTarget.style.transform="translateY(0)",t.currentTarget.style.boxShadow=`
                0 4px 12px rgba(220, 38, 38, 0.3),
                0 2px 6px rgba(0, 0, 0, 0.2),
                inset 0 1px 0 rgba(255, 255, 255, 0.2)
              `},title:"Enviar mensaje a este cliente",children:"Enviar Mensaje"})]})]}),e.jsxs("div",{style:{display:"flex",gap:"16px",marginBottom:"24px",borderBottom:"none",paddingBottom:"16px",outline:"none",boxShadow:"none"},children:[e.jsx("button",{style:{backgroundColor:T==="resumen"?"#dc2626":"transparent",color:"white",border:"none",padding:"8px 16px",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"500",outline:"none",boxShadow:"none"},onClick:()=>M("resumen"),children:"Resumen"}),e.jsx("button",{style:{backgroundColor:T==="rutinas"?"#dc2626":"transparent",color:"white",border:"none",padding:"8px 16px",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"500",outline:"none",boxShadow:"none"},onClick:()=>M("rutinas"),children:"Rutinas"}),e.jsx("button",{style:{backgroundColor:T==="pagos"?"#dc2626":"transparent",color:"white",border:"none",padding:"8px 16px",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"500",outline:"none",boxShadow:"none"},onClick:()=>M("pagos"),children:"Pagos"}),e.jsx("button",{style:{backgroundColor:T==="notas"?"#dc2626":"transparent",color:"white",border:"none",padding:"8px 16px",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"500",outline:"none",boxShadow:"none"},onClick:()=>M("notas"),children:"Notas"})]}),e.jsxs("div",{className:"trainer-client-progress-container",children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px",border:"none",outline:"none",boxShadow:"none"},children:[e.jsx("h1",{style:{fontSize:"32px",fontWeight:"700",color:"white",margin:0,lineHeight:1.2,letterSpacing:"0.2px",border:"none",outline:"none",boxShadow:"none"},children:s.name}),e.jsxs("div",{style:{display:"flex",gap:"8px",justifyContent:"flex-end"},children:[e.jsxs("button",{onClick:Ee,title:"Actualizar datos del cliente","aria-label":"Actualizar datos del cliente",style:{display:"flex",alignItems:"center",gap:"8px",background:"rgba(255,255,255,0.06)",color:"white",border:"1px solid #3a3a3a",padding:"10px 16px",borderRadius:"10px",fontSize:"14px",fontWeight:"600",cursor:"pointer",transition:"transform 0.15s ease, background 0.15s ease, border-color 0.15s ease",outline:"none",boxShadow:"none"},onMouseEnter:t=>{t.currentTarget.style.background="rgba(255,255,255,0.12)",t.currentTarget.style.borderColor="#4a4a4a",t.currentTarget.style.transform="translateY(-1px)"},onMouseLeave:t=>{t.currentTarget.style.background="rgba(255,255,255,0.06)",t.currentTarget.style.borderColor="#3a3a3a",t.currentTarget.style.transform="translateY(0)"},children:[e.jsx("span",{style:{fontSize:"16px"},children:"üîÑ"}),"Refrescar"]}),e.jsxs("button",{onClick:ge,style:{display:"flex",alignItems:"center",gap:"8px",background:"linear-gradient(135deg, #ec1b21 0%, #9b1212 100%)",color:"white",border:"none",padding:"10px 18px",borderRadius:"10px",fontSize:"14px",fontWeight:"600",cursor:"pointer",transition:"transform 0.15s ease, box-shadow 0.15s ease, background 0.15s ease",outline:"none",boxShadow:"0 8px 18px rgba(239,68,68,0.25)"},onMouseEnter:t=>{t.currentTarget.style.background="linear-gradient(135deg, #ef4444 0%, #b91c1c 100%)",t.currentTarget.style.boxShadow="0 10px 20px rgba(239,68,68,0.35)",t.currentTarget.style.transform="translateY(-1px)"},onMouseLeave:t=>{t.currentTarget.style.background="linear-gradient(135deg, #ec1b21 0%, #9b1212 100%)",t.currentTarget.style.boxShadow="0 8px 18px rgba(239,68,68,0.25)",t.currentTarget.style.transform="translateY(0)"},children:[e.jsx("span",{style:{fontSize:"16px"},children:"‚úèÔ∏è"}),"Editar Cliente"]})]})]}),T==="resumen"&&e.jsx("div",{style:{border:"none",outline:"none",boxShadow:"none",backgroundColor:"transparent"},children:e.jsxs("div",{className:"client-summary-card",children:[e.jsx("h2",{className:"summary-title",children:"Perfil del Cliente"}),e.jsxs("div",{className:"summary-grid",children:[e.jsxs("div",{className:"summary-item",children:[e.jsxs("span",{className:"summary-label",style:{display:"flex",alignItems:"center",gap:8},children:[e.jsx("span",{"aria-hidden":!0,children:"üéÇ"}),"Edad"]}),e.jsx("span",{className:"summary-value",children:s.clientProfile?.age||s.age||"No especificada"})]}),e.jsxs("div",{className:"summary-item",children:[e.jsxs("span",{className:"summary-label",style:{display:"flex",alignItems:"center",gap:8},children:[e.jsx("span",{"aria-hidden":!0,children:"üë§"}),"G√©nero"]}),e.jsx("span",{className:"summary-value",children:s.clientProfile?.gender==="MALE"?"Masculino":s.clientProfile?.gender==="FEMALE"?"Femenino":s.clientProfile?.gender==="OTHER"?"Otro":s.gender==="MALE"?"Masculino":s.gender==="FEMALE"?"Femenino":s.gender==="OTHER"?"Otro":"No especificado"})]}),e.jsxs("div",{className:"summary-item",children:[e.jsxs("span",{className:"summary-label",style:{display:"flex",alignItems:"center",gap:8},children:[e.jsx("span",{"aria-hidden":!0,children:"üéØ"}),"Objetivo"]}),e.jsx("span",{className:"summary-value",children:s.clientProfile?.goals?.[0]||s.goals?.[0]||"No especificado"})]}),e.jsxs("div",{className:"summary-item",children:[e.jsxs("span",{className:"summary-label",style:{display:"flex",alignItems:"center",gap:8},children:[e.jsx("span",{"aria-hidden":!0,children:"üìà"}),"Nivel"]}),e.jsx("span",{className:"summary-value",children:s.clientProfile?.fitnessLevel==="BEGINNER"?"Principiante":s.clientProfile?.fitnessLevel==="INTERMEDIATE"?"Intermedio":s.clientProfile?.fitnessLevel==="ADVANCED"?"Avanzado":s.fitnessLevel==="BEGINNER"?"Principiante":s.fitnessLevel==="INTERMEDIATE"?"Intermedio":s.fitnessLevel==="ADVANCED"?"Avanzado":"No especificado"})]})]}),e.jsxs("div",{style:{marginTop:10},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:6},children:[e.jsx("span",{className:"summary-label",style:{display:"flex",alignItems:"center",gap:6},children:"üìä Progreso general"}),e.jsxs("span",{style:{color:"#fff",fontWeight:600},children:[X(),"%"]})]}),e.jsx("div",{style:{width:"100%",height:6,background:"#3a3a3a",borderRadius:999,overflow:"hidden"},children:e.jsx("div",{style:{width:`${X()}%`,height:"100%",background:Ie(X())}})})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"10px",marginTop:14},children:[e.jsx("button",{onClick:()=>M("rutinas"),style:{display:"flex",alignItems:"center",gap:8,background:"linear-gradient(90deg, #dc2626, #ef4444)",color:"white",border:"none",padding:"10px 16px",borderRadius:"10px",fontSize:"14px",fontWeight:700,cursor:"pointer",transition:"filter 0.2s ease"},onMouseEnter:t=>{t.currentTarget.style.filter="brightness(1.1)"},onMouseLeave:t=>{t.currentTarget.style.filter="brightness(1)"},children:"üß≠ Ver rutina asignada"}),e.jsx("button",{onClick:ge,style:{display:"flex",alignItems:"center",gap:8,background:"rgba(255,255,255,0.06)",color:"white",border:"1px solid #3a3a3a",padding:"10px 16px",borderRadius:"10px",fontSize:"14px",fontWeight:600,cursor:"pointer",transition:"transform 0.15s ease, background 0.15s ease, border-color 0.15s ease"},onMouseEnter:t=>{t.currentTarget.style.background="rgba(255,255,255,0.12)",t.currentTarget.style.borderColor="#4a4a4a",t.currentTarget.style.transform="translateY(-1px)"},onMouseLeave:t=>{t.currentTarget.style.background="rgba(255,255,255,0.06)",t.currentTarget.style.borderColor="#3a3a3a",t.currentTarget.style.transform="translateY(0)"},children:"‚úèÔ∏è Editar cliente"})]})]})}),T==="rutinas"&&e.jsx("div",{style:{border:"none",outline:"none",boxShadow:"none",backgroundColor:"transparent"},children:e.jsxs("div",{style:{backgroundColor:"#1a1a1a",borderRadius:"12px",padding:"24px",marginBottom:"24px",border:"none",outline:"none",boxShadow:"none",WebkitBoxShadow:"none",MozBoxShadow:"none"},children:[e.jsx("h2",{style:{color:"white",marginBottom:"20px"},children:"Rutinas Asignadas"}),E&&E.length>0?e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:E.map((t,r)=>e.jsxs("div",{"data-status":t.status,style:{backgroundColor:"#2a2a2a",borderRadius:"10px",padding:"16px",border:"1px solid #333",borderLeft:t.status==="vencida"?"2px solid #f59e0b":"2px solid transparent",transition:"background 0.2s ease, border-color 0.2s ease",position:"relative"},onMouseEnter:o=>{o.currentTarget.style.backgroundColor="#333",o.currentTarget.getAttribute("data-status")!=="vencida"&&(o.currentTarget.style.borderColor="#3a3a3a")},onMouseLeave:o=>{o.currentTarget.style.backgroundColor="#2a2a2a",o.currentTarget.getAttribute("data-status")!=="vencida"&&(o.currentTarget.style.borderColor="#333")},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"8px"},children:[e.jsx("h3",{style:{color:"white",margin:0,flex:1,fontSize:"18px",fontWeight:700,letterSpacing:"0.2px"},children:t.name}),e.jsx("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:(()=>{const o=t.status==="completed"?"#3b82f6":t.status==="paused"?"#dc2626":t.status==="vencida"?"#f59e0b":"#10b981",a=t.status==="completed"?"Completada":t.status==="paused"?"Pausada":t.status==="vencida"?"Vencida ‚ö†Ô∏è":"Activa",n=t.status==="completed"?"Progreso ‚â• 95% o todos los ejercicios completados.":t.status==="paused"?"Sin actividad en los √∫ltimos 10 d√≠as.":t.status==="vencida"?"Fecha de fin pasada y progreso < 90%.":"Rutina en curso.";return e.jsx("span",{title:n,style:{backgroundColor:o,color:"white",padding:"6px 10px",borderRadius:"12px",fontSize:"11px",fontWeight:700},children:a})})()})]}),t.description&&e.jsx("p",{style:{color:"#c9c9c9",margin:"0 0 10px 0",fontSize:"14px",lineHeight:1.45},children:t.description}),e.jsxs("div",{style:{color:"#9aa0a6",fontSize:"12px",marginBottom:"8px"},children:["Asignada: ",t.assignedDate?new Date(t.assignedDate).toLocaleDateString():"N/A"]}),t.endDate&&e.jsxs("div",{style:{color:"#9aa0a6",fontSize:"12px",marginBottom:"8px"},children:["Finaliza: ",new Date(t.endDate).toLocaleDateString()]}),e.jsxs("div",{style:{margin:"6px 0 12px 0"},children:[e.jsxs("div",{style:{color:"#dc2626",fontSize:"13px",fontWeight:600,marginBottom:"6px"},children:["Progreso: ",t.progress||0,"%"]}),e.jsx("div",{style:{width:"100%",height:"6px",background:"#3a3a3a",borderRadius:"999px",overflow:"hidden"},children:e.jsx("div",{style:{width:`${Math.min(Math.max(Number(t.progress)||0,0),100)}%`,height:"100%",background:"#dc2626"}})})]}),t.exercises&&t.exercises.length>0&&e.jsxs("div",{style:{marginTop:"12px"},children:[e.jsxs("p",{style:{color:"#ccc",fontSize:"14px",marginBottom:"8px"},children:["Ejercicios (",t.exercises.length,"):"]}),e.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"6px"},children:[t.exercises.slice(0,4).map((o,a)=>e.jsx("span",{style:{backgroundColor:"#3a3a3a",color:"white",padding:"3px 8px",borderRadius:"999px",fontSize:"11px",lineHeight:1.2},children:o.name},a)),t.exercises.length>4&&e.jsxs("span",{style:{backgroundColor:"#3a3a3a",color:"#c9c9c9",padding:"3px 8px",borderRadius:"999px",fontSize:"11px",lineHeight:1.2},children:["+",t.exercises.length-4," m√°s"]})]})]}),e.jsxs("div",{style:{marginTop:"16px",display:"flex",gap:"12px",justifyContent:"flex-end",borderTop:"1px solid #333",paddingTop:"12px"},children:[e.jsx("button",{onClick:async o=>{if(o.stopPropagation(),!!window.confirm(`¬øEst√°s seguro de que deseas eliminar la rutina "${t.name}"?

Esta acci√≥n es permanente y no se puede deshacer.`))try{await oe.deleteRoutine(t.id),ne(n=>n.filter(f=>f.id!==t.id)),h.success("Rutina eliminada exitosamente")}catch(n){console.error("Error al eliminar la rutina:",n),h.error("Error al eliminar la rutina")}},style:{display:"flex",alignItems:"center",gap:"8px",backgroundColor:"rgba(220,38,38,0.08)",color:"#ef4444",border:"1px solid #dc2626",padding:"10px 16px",borderRadius:"10px",fontSize:"14px",fontWeight:700,cursor:"pointer",transition:"background 0.2s ease, border-color 0.2s ease"},onMouseEnter:o=>{o.currentTarget.style.backgroundColor="rgba(220,38,38,0.15)",o.currentTarget.style.borderColor="#ef4444"},onMouseLeave:o=>{o.currentTarget.style.backgroundColor="rgba(220,38,38,0.08)",o.currentTarget.style.borderColor="#dc2626"},children:"üóëÔ∏è Eliminar"}),e.jsx("button",{onClick:o=>{o.stopPropagation();const a=encodeURIComponent(`Rutina asignada: ${t.name}`),n=encodeURIComponent(`Hola ${s?.name||""},

Te comparto la rutina "${t.name}".

¬°√âxitos!
Equipo TrainFit`),f=s?.email||"";window.location.href=`mailto:${f}?subject=${a}&body=${n}`},style:{display:"flex",alignItems:"center",gap:"8px",backgroundColor:"rgba(255,255,255,0.06)",color:"white",border:"1px solid #3a3a3a",padding:"10px 16px",borderRadius:"10px",fontSize:"14px",fontWeight:600,cursor:"pointer",transition:"background 0.2s ease, border-color 0.2s ease"},onMouseEnter:o=>{o.currentTarget.style.backgroundColor="rgba(255,255,255,0.1)",o.currentTarget.style.borderColor="#4a4a4a"},onMouseLeave:o=>{o.currentTarget.style.backgroundColor="rgba(255,255,255,0.06)",o.currentTarget.style.borderColor="#3a3a3a"},children:"üìß Enviar Email"}),e.jsx("button",{onClick:o=>{o.stopPropagation();let a={...t};if(typeof t.exercises=="string")try{a.exercises=JSON.parse(t.exercises)}catch(n){console.error("Error parsing routine exercises:",n),a.exercises=[]}Y(a),G(!0)},style:{display:"flex",alignItems:"center",gap:"8px",background:"linear-gradient(90deg, #dc2626, #ef4444)",color:"white",border:"none",padding:"10px 18px",borderRadius:"10px",fontSize:"14px",fontWeight:700,cursor:"pointer",transition:"filter 0.2s ease"},onMouseEnter:o=>{o.currentTarget.style.filter="brightness(1.1)"},onMouseLeave:o=>{o.currentTarget.style.filter="brightness(1)"},children:"üëÅÔ∏è Ver Detalles"})]})]},t.id||r))}):e.jsxs("div",{style:{textAlign:"center",padding:"40px",color:"#6b7280"},children:[e.jsx("h3",{style:{color:"#9ca3af",marginBottom:"8px"},children:"No hay rutinas asignadas"}),e.jsx("p",{style:{color:"#6b7280"},children:"Este cliente a√∫n no tiene rutinas asignadas."})]})]})}),T==="pagos"&&e.jsx("div",{style:{border:"none",outline:"none",boxShadow:"none",backgroundColor:"transparent"},children:e.jsxs("div",{style:{backgroundColor:"#1a1a1a",borderRadius:"12px",padding:"24px",marginBottom:"24px",border:"none",outline:"none",boxShadow:"none",WebkitBoxShadow:"none",MozBoxShadow:"none"},children:[e.jsx("h2",{style:{color:"white",marginBottom:"20px"},children:"Estado de Pagos"}),v?e.jsxs("div",{style:{backgroundColor:"#2a2a2a",borderRadius:"8px",padding:"16px",border:"1px solid #333"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},children:[e.jsxs("span",{style:{color:"white",fontWeight:600,display:"flex",alignItems:"center",gap:8},children:[e.jsx("span",{"aria-hidden":!0,children:"üí∞"}),"Estado:"]}),e.jsx("span",{style:{color:v.status==="paid"?"#10b981":v.status==="pending"?"#f59e0b":"#dc2626",fontWeight:500},children:v.status==="paid"?"Pagado":v.status==="pending"?"Pendiente":"Vencido"})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},children:[e.jsxs("span",{style:{color:"#e5e7eb",fontWeight:600,display:"flex",alignItems:"center",gap:8},children:[e.jsx("span",{"aria-hidden":!0,children:"üíµ"}),"Monto:"]}),e.jsxs("span",{style:{color:"white",fontWeight:400},children:["$",v.amount]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("span",{style:{color:"#e5e7eb",fontWeight:600,display:"flex",alignItems:"center",gap:8},children:[e.jsx("span",{"aria-hidden":!0,children:"üìÖ"}),"Fecha de vencimiento:"]}),e.jsx("span",{style:{color:"white",fontWeight:400},children:new Date(v.dueDate).toLocaleDateString()})]}),e.jsx("div",{style:{height:"1px",backgroundColor:"#333",opacity:.8,margin:"16px 0"}}),e.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end",paddingTop:"4px"},children:[e.jsxs("button",{onClick:Te,style:{display:"flex",alignItems:"center",gap:"8px",backgroundColor:"#374151",color:"white",border:"none",padding:"10px 16px",borderRadius:"6px",fontSize:"14px",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:t=>{t.currentTarget.style.backgroundColor="#4b5563"},onMouseLeave:t=>{t.currentTarget.style.backgroundColor="#374151"},children:[e.jsx("span",{children:"üìß"}),"Enviar recordatorio"]}),e.jsxs("button",{onClick:ke,style:{display:"flex",alignItems:"center",gap:"8px",backgroundColor:"#dc2626",color:"white",border:"none",padding:"10px 16px",borderRadius:"6px",fontSize:"14px",fontWeight:"500",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:t=>{t.currentTarget.style.backgroundColor="#b91c1c"},onMouseLeave:t=>{t.currentTarget.style.backgroundColor="#dc2626"},children:[e.jsx("span",{children:"‚úèÔ∏è"}),"Editar pago"]})]})]}):e.jsx("p",{style:{color:"#6b7280",textAlign:"center",padding:"20px"},children:"No hay informaci√≥n de pagos disponible."})]})}),T==="notas"&&e.jsx("div",{style:{border:"none",outline:"none",boxShadow:"none",backgroundColor:"transparent"},children:e.jsxs("div",{style:{backgroundColor:"#1a1a1a",borderRadius:"12px",padding:"24px",marginBottom:"24px",border:"none",outline:"none",boxShadow:"none",WebkitBoxShadow:"none",MozBoxShadow:"none"},children:[e.jsx("h2",{style:{color:"white",marginBottom:"20px"},children:"Notas del Cliente"}),e.jsxs("div",{style:{backgroundColor:"#2a2a2a",borderRadius:"8px",padding:"16px",border:"1px solid #333",minHeight:"200px"},children:[e.jsx("textarea",{placeholder:"Agregar notas sobre el cliente...",style:{width:"100%",height:"150px",backgroundColor:"transparent",border:"none",color:"white",resize:"vertical",outline:"none",fontSize:"14px",lineHeight:"1.5"}}),e.jsx("div",{style:{marginTop:"12px",textAlign:"right"},children:e.jsx("button",{style:{backgroundColor:"#dc2626",color:"white",border:"none",padding:"8px 16px",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"500"},children:"Guardar Notas"})})]})]})})]}),ve&&e.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:e.jsxs("div",{style:{backgroundColor:"#1a1a1a",padding:"30px",borderRadius:"12px",maxWidth:"500px",width:"90%",border:"1px solid #333"},children:[e.jsx("h3",{style:{color:"#fff",marginBottom:"20px"},children:"Completar Perfil del Cliente"}),e.jsx("p",{style:{color:"#ccc",marginBottom:"20px"},children:"Para asignar rutinas y hacer un seguimiento completo, necesitamos que el cliente complete su perfil con informaci√≥n b√°sica como edad, peso, altura y objetivos."}),e.jsxs("div",{style:{display:"flex",gap:"10px",justifyContent:"flex-end"},children:[e.jsx("button",{onClick:()=>le(!1),style:{padding:"10px 20px",backgroundColor:"#333",color:"#fff",border:"none",borderRadius:"6px",cursor:"pointer"},children:"Cerrar"}),e.jsx("button",{onClick:()=>{le(!1)},style:{padding:"10px 20px",backgroundColor:"#ff6b35",color:"#fff",border:"none",borderRadius:"6px",cursor:"pointer"},children:"Notificar Cliente"})]})]})}),Ce&&x&&e.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.7)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3,padding:"20px"},children:e.jsxs("div",{style:{backgroundColor:"#1a1a1a",borderRadius:"12px",maxWidth:"800px",width:"100%",maxHeight:"90vh",overflow:"auto",border:"1px solid #333"},children:[e.jsxs("div",{style:{padding:"20px 30px",borderBottom:"1px solid #333",display:"flex",justifyContent:"space-between",alignItems:"center",position:"sticky",top:0,backgroundColor:"#1a1a1a",zIndex:1},children:[e.jsx("h2",{style:{color:"#fff",margin:0},children:x.name}),e.jsx("button",{onClick:()=>{G(!1),Y(null)},style:{background:"none",border:"none",color:"#ccc",fontSize:"24px",cursor:"pointer",padding:"5px"},children:"√ó"})]}),e.jsxs("div",{style:{padding:"30px"},children:[e.jsxs("div",{style:{marginBottom:"30px"},children:[e.jsxs("div",{style:{display:"flex",gap:"20px",marginBottom:"20px"},children:[e.jsx("div",{style:{backgroundColor:x.status==="active"?"#28a745":x.status==="completed"?"#6c757d":"#ffc107",color:"#fff",padding:"6px 12px",borderRadius:"20px",fontSize:"12px",fontWeight:"bold"},children:x.status==="active"?"Activa":x.status==="completed"?"Completada":"Pausada"}),e.jsxs("div",{style:{backgroundColor:"#dc2626",color:"#fff",padding:"6px 12px",borderRadius:"20px",fontSize:"12px",fontWeight:"bold"},children:["Progreso: ",x.progress||0,"%"]})]}),x.description&&e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx("h4",{style:{color:"#fff",marginBottom:"10px"},children:"Descripci√≥n"}),e.jsx("p",{style:{color:"#ccc",lineHeight:"1.5"},children:x.description})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"15px",marginBottom:"20px"},children:[e.jsxs("div",{style:{backgroundColor:"#2a2a2a",padding:"15px",borderRadius:"8px"},children:[e.jsx("h5",{style:{color:"#dc2626",margin:"0 0 5px 0",fontSize:"12px"},children:"EJERCICIOS"}),e.jsx("p",{style:{color:"#fff",margin:0,fontSize:"18px",fontWeight:"bold"},children:x.exercises?.length||0})]}),e.jsxs("div",{style:{backgroundColor:"#2a2a2a",padding:"15px",borderRadius:"8px"},children:[e.jsx("h5",{style:{color:"#dc2626",margin:"0 0 5px 0",fontSize:"12px"},children:"DURACI√ìN ESTIMADA"}),e.jsx("p",{style:{color:"#fff",margin:0,fontSize:"18px",fontWeight:"bold"},children:x.estimatedDuration||"N/A"})]}),e.jsxs("div",{style:{backgroundColor:"#2a2a2a",padding:"15px",borderRadius:"8px"},children:[e.jsx("h5",{style:{color:"#dc2626",margin:"0 0 5px 0",fontSize:"12px"},children:"DIFICULTAD"}),e.jsx("p",{style:{color:"#fff",margin:0,fontSize:"18px",fontWeight:"bold"},children:x.difficulty||"Media"})]})]})]}),x.exercises&&x.exercises.length>0&&e.jsxs("div",{children:[e.jsxs("h4",{style:{color:"#fff",marginBottom:"20px"},children:["Ejercicios (",x.exercises.length,")"]}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:x.exercises.map((t,r)=>e.jsxs("div",{style:{backgroundColor:"#2a2a2a",padding:"20px",borderRadius:"12px",border:"1px solid #333"},children:[e.jsxs("div",{style:{display:"flex",gap:"20px",marginBottom:"15px"},children:[e.jsxs("div",{style:{flexShrink:0},children:[(()=>{let o=t;if(typeof t=="string")try{o=JSON.parse(t)}catch(n){console.error("Error parsing exercise for image:",n),o=t}const a=o.imageUrl||o.image_url||o.image||o.img||o.photo||o.picture;return console.log("Exercise image data:",{exerciseName:o.name,imageUrl:a,allProps:Object.keys(o)}),a?e.jsx("img",{src:a,alt:o.name||"Ejercicio",style:{width:"160px",height:"160px",objectFit:"contain",borderRadius:"8px",border:"2px solid #dc2626"},onError:n=>{console.error("Error loading image:",a);const f=n.target;f.style.display="none";const C=f.nextElementSibling;C&&(C.style.display="flex")},onLoad:()=>{console.log("Image loaded successfully:",a)}}):null})(),e.jsx("div",{style:{width:"160px",height:"160px",backgroundColor:"#444",borderRadius:"8px",display:(()=>{let o=t;if(typeof t=="string")try{o=JSON.parse(t)}catch{o=t}return o.imageUrl||o.image_url||o.image||o.img||o.photo||o.picture?"none":"flex"})(),alignItems:"center",justifyContent:"center",border:"2px solid #555"},children:e.jsx("span",{style:{color:"#888",fontSize:"12px",textAlign:"center"},children:"Sin imagen"})})]}),e.jsxs("div",{style:{flex:1},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"10px"},children:[e.jsxs("h5",{style:{color:"#fff",margin:0,fontSize:"18px",fontWeight:"bold"},children:[r+1,". ",t.name||`Ejercicio ${r+1}`]}),e.jsxs("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:[t.muscleGroup&&e.jsx("span",{style:{backgroundColor:"#ff6b35",color:"#fff",padding:"4px 8px",borderRadius:"12px",fontSize:"11px",fontWeight:"bold"},children:t.muscleGroup}),t.difficulty&&e.jsx("span",{style:{backgroundColor:t.difficulty==="beginner"?"#28a745":t.difficulty==="intermediate"?"#ffc107":"#dc3545",color:"#fff",padding:"4px 8px",borderRadius:"12px",fontSize:"11px",fontWeight:"bold"},children:t.difficulty==="beginner"?"Principiante":t.difficulty==="intermediate"?"Intermedio":"Avanzado"})]})]}),t.description&&e.jsx("p",{style:{color:"#ccc",margin:"0 0 15px 0",fontSize:"14px",lineHeight:"1.4"},children:t.description}),t.equipment&&e.jsxs("p",{style:{color:"#ff6b35",margin:"0 0 10px 0",fontSize:"12px",fontWeight:"bold"},children:["üèãÔ∏è Equipamiento: ",t.equipment]}),t.targetMuscles&&t.targetMuscles.length>0&&e.jsxs("p",{style:{color:"#ccc",margin:"0 0 15px 0",fontSize:"12px"},children:["üéØ M√∫sculos objetivo: ",t.targetMuscles.join(", ")]})]})]}),t.seriesDetails&&t.seriesDetails.length>0?e.jsxs("div",{style:{marginBottom:"15px"},children:[e.jsx("h6",{style:{color:"#dc2626",margin:"0 0 10px 0",fontSize:"14px",fontWeight:"bold"},children:"üìã SERIES DETALLADAS"}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"10px"},children:t.seriesDetails.map((o,a)=>e.jsxs("div",{style:{backgroundColor:"#1a1a1a",padding:"12px",borderRadius:"6px",border:"1px solid #dc2626"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"5px"},children:[e.jsxs("span",{style:{color:"#fff",fontWeight:"bold",fontSize:"12px"},children:["Serie ",o.setNumber]}),o.completed&&e.jsx("span",{style:{color:"#28a745",fontSize:"12px"},children:"‚úì"})]}),e.jsxs("div",{style:{fontSize:"11px",color:"#ccc"},children:[e.jsxs("div",{children:[o.reps," repeticiones"]}),o.weight&&e.jsxs("div",{children:[String(o.weight).replace(/kg/gi,"").trim()," kg"]}),o.restTime&&e.jsxs("div",{children:["Descanso: ",o.restTime]})]})]},a))})]}):(()=>{let o=t;if(typeof t=="string")try{o=JSON.parse(t)}catch(a){console.error("Error parsing exercise:",a),o=t}return e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(120px, 1fr))",gap:"10px",marginBottom:"15px"},children:[(o.sets||o.series)&&e.jsxs("div",{style:{backgroundColor:"#1a1a1a",padding:"10px",borderRadius:"6px",border:"1px solid #dc2626"},children:[e.jsx("span",{style:{color:"#dc2626",fontSize:"12px",fontWeight:"bold"},children:"SERIES"}),e.jsx("p",{style:{color:"#fff",margin:"2px 0 0 0",fontSize:"16px",fontWeight:"bold"},children:o.sets||o.series})]}),o.reps&&e.jsxs("div",{style:{backgroundColor:"#1a1a1a",padding:"10px",borderRadius:"6px",border:"1px solid #dc2626"},children:[e.jsx("span",{style:{color:"#dc2626",fontSize:"12px",fontWeight:"bold"},children:"REPETICIONES"}),e.jsx("p",{style:{color:"#fff",margin:"2px 0 0 0",fontSize:"16px",fontWeight:"bold"},children:o.reps})]}),(o.weight||Array.isArray(o.weightsPerSeries)&&o.weightsPerSeries.length>0)&&e.jsxs("div",{style:{backgroundColor:"#1a1a1a",padding:"10px",borderRadius:"6px",border:"1px solid #dc2626"},children:[e.jsx("span",{style:{color:"#dc2626",fontSize:"12px",fontWeight:"bold"},children:"PESO"}),(()=>{const a=Array.isArray(o.weightsPerSeries)&&o.weightsPerSeries.length>0?o.weightsPerSeries.map(f=>String(f).replace(/kg/gi,"").trim()).join("-"):String(o.weight??"").replace(/kg/gi,"").trim(),n=a.includes("-")?a.split("-").map(f=>f.trim()).join(" ¬∑ "):a;return e.jsxs("p",{style:{color:"#fff",margin:"2px 0 0 0",fontSize:"16px",fontWeight:"bold"},children:[n," kg"]})})()]}),o.duration&&e.jsxs("div",{style:{backgroundColor:"#1a1a1a",padding:"10px",borderRadius:"6px",border:"1px solid #dc2626"},children:[e.jsx("span",{style:{color:"#dc2626",fontSize:"12px",fontWeight:"bold"},children:"DURACI√ìN"}),e.jsx("p",{style:{color:"#fff",margin:"2px 0 0 0",fontSize:"16px",fontWeight:"bold"},children:o.duration})]}),(o.restTime||o.rest_time)&&e.jsxs("div",{style:{backgroundColor:"#1a1a1a",padding:"10px",borderRadius:"6px",border:"1px solid #dc2626"},children:[e.jsx("span",{style:{color:"#dc2626",fontSize:"12px",fontWeight:"bold"},children:"DESCANSO"}),e.jsx("p",{style:{color:"#fff",margin:"2px 0 0 0",fontSize:"16px",fontWeight:"bold"},children:o.restTime||o.rest_time})]})]})})(),t.instructions&&t.instructions.length>0&&e.jsxs("div",{children:[e.jsx("h6",{style:{color:"#ff6b35",margin:"0 0 10px 0",fontSize:"14px",fontWeight:"bold"},children:"üìù INSTRUCCIONES"}),e.jsx("ol",{style:{color:"#ccc",fontSize:"13px",lineHeight:"1.5",paddingLeft:"20px",margin:0},children:t.instructions.map((o,a)=>e.jsx("li",{style:{marginBottom:"5px"},children:o},a))})]}),t.videoUrl&&e.jsx("div",{style:{marginTop:"15px"},children:e.jsx("a",{href:t.videoUrl,target:"_blank",rel:"noopener noreferrer",style:{color:"#ff6b35",textDecoration:"none",fontSize:"13px",fontWeight:"bold"},children:"üé• Ver video demostrativo"})})]},r))})]}),e.jsxs("div",{style:{marginTop:"30px",paddingTop:"20px",borderTop:"1px solid #333",display:"flex",gap:"15px",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{style:{display:"flex",gap:"10px"},children:[e.jsx("button",{onClick:()=>{x&&Ne(x)},style:{padding:"12px 20px",backgroundColor:"#dc2626",color:"#fff",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:"bold",display:"flex",alignItems:"center",gap:"8px",transition:"all 0.3s ease",boxShadow:"0 2px 4px rgba(220, 38, 38, 0.3)"},onMouseOver:t=>{t.currentTarget.style.backgroundColor="#b91c1c",t.currentTarget.style.transform="translateY(-1px)",t.currentTarget.style.boxShadow="0 4px 8px rgba(220, 38, 38, 0.4)"},onMouseOut:t=>{t.currentTarget.style.backgroundColor="#dc2626",t.currentTarget.style.transform="translateY(0)",t.currentTarget.style.boxShadow="0 2px 4px rgba(220, 38, 38, 0.3)"},children:"üìÑ Descargar PDF"}),e.jsx("button",{onClick:()=>{x&&x.id?We(x.id):alert("ID de rutina no disponible")},style:{padding:"12px 20px",backgroundColor:"#dc2626",color:"#fff",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:"bold",display:"flex",alignItems:"center",gap:"8px",transition:"all 0.3s ease",boxShadow:"0 2px 4px rgba(220, 38, 38, 0.3)"},onMouseOver:t=>{t.currentTarget.style.backgroundColor="#b91c1c",t.currentTarget.style.transform="translateY(-1px)",t.currentTarget.style.boxShadow="0 4px 8px rgba(220, 38, 38, 0.4)"},onMouseOut:t=>{t.currentTarget.style.backgroundColor="#dc2626",t.currentTarget.style.transform="translateY(0)",t.currentTarget.style.boxShadow="0 2px 4px rgba(220, 38, 38, 0.3)"},children:"‚úèÔ∏è Editar Rutina"})]}),e.jsx("button",{onClick:()=>{G(!1),Y(null)},style:{padding:"12px 24px",backgroundColor:"#444",color:"#fff",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:"bold"},children:"Cerrar"})]})]})]})}),we&&e.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.7)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3,padding:"20px"},children:e.jsxs("div",{style:{backgroundColor:"#1a1a1a",borderRadius:"12px",padding:"30px",maxWidth:"500px",width:"100%",border:"1px solid #333"},children:[e.jsx("h3",{style:{color:"#fff",marginBottom:"20px",textAlign:"center"},children:"Editar Informaci√≥n de Pago"}),e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx("label",{style:{display:"block",color:"#ccc",marginBottom:"8px",fontSize:"14px",fontWeight:"500"},children:"Monto de la cuota ($)"}),e.jsx("input",{type:"number",value:de,onChange:t=>ce(t.target.value),style:{width:"100%",padding:"12px",backgroundColor:"#2a2a2a",border:"1px solid #444",borderRadius:"6px",color:"#fff",fontSize:"16px",outline:"none"},placeholder:"Ingrese el monto",min:"0",step:"0.01"})]}),e.jsxs("div",{style:{marginBottom:"30px"},children:[e.jsx("label",{style:{display:"block",color:"#ccc",marginBottom:"8px",fontSize:"14px",fontWeight:"500"},children:"Fecha de vencimiento"}),e.jsx("input",{type:"date",value:q,onChange:t=>pe(t.target.value),style:{width:"100%",padding:"12px",backgroundColor:"#2a2a2a",border:"1px solid #444",borderRadius:"6px",color:"#fff",fontSize:"16px",outline:"none"}})]}),e.jsxs("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[e.jsx("button",{onClick:()=>V(!1),style:{padding:"12px 20px",backgroundColor:"#444",color:"#fff",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"500"},children:"Cancelar"}),e.jsx("button",{onClick:Re,style:{padding:"12px 20px",backgroundColor:"#dc2626",color:"#fff",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"500",transition:"all 0.2s ease"},onMouseEnter:t=>{t.currentTarget.style.backgroundColor="#b91c1c"},onMouseLeave:t=>{t.currentTarget.style.backgroundColor="#dc2626"},children:"Guardar cambios"})]})]})})]}))};export{Ve as default};
