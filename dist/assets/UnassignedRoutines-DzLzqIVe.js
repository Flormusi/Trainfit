import{b as o,r as i,u as k,c,j as e}from"./index-CiYObJ11.js";const w={async getAllWorkoutPlans(){try{console.log("[WorkoutPlanService] Solicitando ejercicios al servidor...");const r=await o.get("/trainer/workout-plans");if(console.log("[WorkoutPlanService] Respuesta del servidor:",r.data),!r.data)throw new Error("La respuesta del servidor no contiene datos");return r.data}catch(r){throw console.error("[WorkoutPlanService] Error al obtener ejercicios:",r),r}},async createWorkoutPlan(r){try{return(await o.post("/trainer/workout-plans",r)).data}catch(a){throw console.error("[WorkoutPlanService] Error al crear plan de ejercicios:",a),a}},async deleteWorkoutPlan(r){try{await o.delete(`/trainer/workout-plans/${r}`)}catch(a){throw console.error("[WorkoutPlanService] Error al eliminar plan de ejercicios:",a),a}},async assignWorkoutPlan(r,a){try{return(await o.post("/trainer/workout-assignments",{planId:r,clientId:a})).data}catch(t){throw console.error("[WorkoutPlanService] Error al asignar plan de ejercicios:",t),t}},async updateWorkoutPlan(r,a){try{return(await o.put(`/trainer/workout-plans/${r}`,a)).data}catch(t){throw console.error("[WorkoutPlanService] Error al actualizar plan de ejercicios:",t),t}},async getAssignedPlans(){try{return(await o.get("/trainer/workout-assignments/client")).data}catch(r){throw console.error("[WorkoutPlanService] Error al obtener planes asignados:",r),r}},async getUnassignedWorkoutPlans(){try{return(await o.get("/trainer/workout-plans/unassigned")).data}catch(r){throw console.error("[WorkoutPlanService] Error al obtener planes no asignados:",r),r}}},v=()=>{const[r,a]=i.useState([]),[t,l]=i.useState(!0),[d,h]=i.useState(""),u=k();i.useEffect(()=>{g()},[]);const g=async()=>{try{l(!0);const s=await w.getUnassignedWorkoutPlans();a(s)}catch{h("Error al cargar las rutinas sin asignar"),c.error("Error al cargar las rutinas sin asignar")}finally{l(!1)}},m=s=>{u(`/trainer/assign-routine/${s}`)},p=s=>{u(`/trainer/routines/${s}/edit`)},x=async(s,n)=>{if(window.confirm(`Â¿EstÃ¡s seguro de que quieres eliminar la rutina "${n}"?

Esta acciÃ³n no se puede deshacer.`))try{await o.delete(`/trainer/routines/${s}`),c.success(`âœ… Rutina "${n}" eliminada exitosamente.`),g()}catch(y){console.error("Error al eliminar la rutina:",y),c.error("âŒ Error al eliminar la rutina. Por favor, intÃ©ntalo de nuevo.")}};return t?e.jsx("div",{className:"text-center py-4",children:"Cargando rutinas..."}):d?e.jsx("div",{className:"text-center py-4",style:{color:"#ff3b30"},children:d}):e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Rutinas sin Asignar"}),r.length===0?e.jsx("p",{className:"text-center py-4",children:"No hay rutinas sin asignar"}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(s=>e.jsxs("div",{className:"bg-gray-800 rounded-lg p-6 shadow-lg",children:[e.jsx("h2",{className:"text-xl font-semibold mb-2",children:s.name}),e.jsx("p",{className:"text-gray-300 mb-4",children:s.description}),e.jsxs("div",{className:"flex gap-2 text-sm text-gray-400 mb-2",children:[e.jsxs("p",{children:["Tipo: ",s.type]}),e.jsxs("p",{children:["Dificultad: ",s.difficulty]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Ejercicios:"}),e.jsx("ul",{className:"list-disc list-inside",children:s.exercises.map(n=>e.jsxs("li",{className:"text-sm",children:[n.name," - ",n.sets,"x",n.reps]},n.id))})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>m(s.id),className:"flex-1 text-white py-2 px-4 rounded transition-colors",style:{backgroundColor:"#D62828"},children:"Asignar Rutina"}),e.jsx("button",{onClick:()=>p(s.id),className:"bg-blue-500 text-white py-2 px-3 rounded hover:bg-blue-600 transition-colors",title:"Editar rutina",children:"âœï¸"}),e.jsx("button",{onClick:()=>x(s.id,s.name),className:"text-white py-2 px-3 rounded transition-colors",style:{backgroundColor:"#D62828"},title:"Eliminar rutina",children:"ğŸ—‘ï¸"})]})]},s.id))})]})};export{v as default};
