import{b as s}from"./index-BJZa08pc.js";const r={getDashboardData:async()=>{try{const e=await s.get("/trainer/dashboard");return console.log("Dashboard API response:",e.data),e&&e.data&&e.data.data?{data:{clientCount:e.data.data.clientCount||0,routineCount:e.data.data.routineCount||0,exerciseCount:e.data.data.exerciseCount||0}}:(console.error("Error: La respuesta del servidor no tiene la estructura esperada"),{data:{clientCount:0,routineCount:0,exerciseCount:0}})}catch(e){return console.error("Error al obtener datos del dashboard:",e),{data:{clientCount:0,routineCount:0,exerciseCount:0}}}},getClients:async()=>{try{const e=await s.get("/trainer/clients");if(console.log("API getClients response:",e),e&&e.data&&e.data.data&&e.data.data.clients){console.log("Estructura anidada detectada, devolviendo clients desde data.data.clients");const t=e.data.data.clients;return console.log("Clientes extraÃ­dos:",t),{data:t}}else return e&&e.data?(console.log("Estructura simple detectada, devolviendo directamente response.data"),{data:e.data}):(console.error("Error: La respuesta de getClients no tiene la estructura esperada"),{data:[]})}catch(e){return console.error("Error en getClients:",e),{data:[]}}},addClient:async e=>(await s.post("/trainer/clients",e)).data,getClientDetails:async e=>(await s.get(`/trainer/clients/${e}`,{headers:{"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0"}})).data.data,getClientProgress:async e=>(await s.get(`/trainer/clients/${e}/progress`)).data,saveClientNotes:async(e,t)=>(await s.post(`/trainer/clients/${e}/notes`,{notes:t})).data,deleteClient:async e=>(await s.delete(`/clients/${e}`)).data,sendPaymentReminder:async e=>(await s.post(`/trainer/clients/${e}/payment-reminder`)).data,createRoutine:async e=>(await s.post("/trainer/routines",e)).data,getRoutines:async()=>(await s.get("/trainer/routines")).data,getRoutineById:async e=>(await s.get(`/trainer/routines/${e}`)).data,updateRoutine:async(e,t)=>(await s.put(`/trainer/routines/${e}`,t)).data,deleteRoutine:async e=>(await s.delete(`/trainer/routines/${e}`)).data,assignRoutine:async e=>(await s.post("/trainer/routines/assign",e)).data,unassignRoutineFromClient:async(e,t)=>(await s.delete(`/trainer/clients/${e}/routines/${t}`)).data,resendRoutineEmail:async(e,t)=>(await s.post(`/trainer/clients/${e}/routines/${t}/resend-email`)).data,getClientRoutines:async e=>(await s.get(`/trainer/clients/${e}/routines`,{headers:{"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0"}})).data,getRoutineAssignments:async(e,t)=>{try{const n=await s.get(`/trainer/routines/assignments?year=${e}&month=${t}`);return console.log("Respuesta de getRoutineAssignments:",n),n&&n.data?Array.isArray(n.data)?{data:n.data}:n.data.data&&Array.isArray(n.data.data)?{data:n.data.data}:(console.error("Estructura de respuesta inesperada en getRoutineAssignments:",n),{data:[]}):{data:[]}}catch(n){return console.error("Error en getRoutineAssignments:",n),{data:[]}}},getRoutineSchedule:async()=>(await s.get("/trainer/routines/schedule")).data,scheduleRoutine:async e=>(await s.post("/trainer/routines/schedule",e)).data,removeRoutineAssignment:async e=>{try{return(await s.delete(`/trainer/routines/assignments/${e}`)).data}catch(t){throw console.error("Error al eliminar la asignaciÃ³n de rutina:",t),t}},updateRoutineSchedule:async(e,t)=>(await s.put(`/trainer/routines/schedule/${e}`,t)).data,deleteRoutineSchedule:async e=>(await s.delete(`/trainer/routines/schedule/${e}`)).data,getExercises:async()=>(await s.get("/trainer/exercises")).data,getExerciseById:async e=>(await s.get(`/trainer/exercises/${e}`)).data,createExercise:async e=>(await s.post("/trainer/exercises",e)).data,updateExercise:async(e,t)=>(await s.put(`/trainer/exercises/${e}`,t)).data,deleteExercise:async e=>(await s.delete(`/trainer/exercises/${e}`)).data,getClasses:async(e,t)=>{const n=e&&t?`/trainer/classes?start=${e}&end=${t}`:"/trainer/classes";return(await s.get(n)).data},getClassById:async e=>(await s.get(`/trainer/classes/${e}`)).data,createClass:async e=>(await s.post("/trainer/classes",e)).data,updateClass:async(e,t)=>(await s.put(`/trainer/classes/${e}`,t)).data,deleteClass:async e=>(await s.delete(`/trainer/classes/${e}`)).data,rescheduleClass:async(e,t)=>(await s.put(`/trainer/classes/${e}/reschedule`,{dateTime:t})).data,getAvailableTimeSlots:async e=>(await s.get(`/trainer/availability?date=${e}`)).data,getNutritionPlans:async()=>(await s.get("/trainer/nutrition-plans")).data,getNutritionPlanById:async e=>(await s.get(`/trainer/nutrition-plans/${e}`)).data,createNutritionPlan:async e=>(await s.post("/trainer/nutrition-plans",e)).data,updateNutritionPlan:async(e,t)=>(await s.put(`/trainer/nutrition-plans/${e}`,t)).data,deleteNutritionPlan:async e=>(await s.delete(`/trainer/nutrition-plans/${e}`)).data,assignNutritionPlan:async(e,t)=>(await s.post(`/trainer/clients/${e}/nutrition-plans`,{planId:t})).data,getProfile:async()=>(await s.get("/trainer/profile")).data,updateProfile:async e=>(await s.put("/trainer/profile",e)).data,getAnalytics:async e=>{const t=`/trainer/analytics${e?`?period=${e}`:""}`;return(await s.get(t)).data},getClientMetrics:async(e,t,n)=>(await s.get(`/trainer/clients/${e}/metrics?type=${t}&period=${n}`)).data,getClientProgressGraphData:async(e,t,n)=>(await s.get(`/trainer/clients/${e}/progress-graph?metric=${t}&timeRange=${n}`)).data,getClientMembershipDetails:async e=>(await s.get(`/trainer/clients/${e}/membership`)).data,updateClientMembership:async(e,t)=>(await s.put(`/trainer/clients/${e}/membership`,t)).data,updateClientStatus:async(e,t)=>(await s.put(`/trainer/clients/${e}/status`,{status:t})).data,getClientAttendance:async e=>(await s.get(`/trainer/clients/${e}/attendance`)).data,getClientNotifications:async()=>(await s.get("/trainer/notifications")).data,markNotificationAsRead:async e=>(await s.put(`/trainer/notifications/${e}/read`)).data,getUnreadNotifications:async()=>(await s.get("/trainer/notifications/unread")).data,markAllNotificationsAsRead:async()=>(await s.put("/trainer/notifications/mark-all-read")).data,createTestNotification:async e=>(await s.post("/trainer/notifications/test",e)).data,sendMotivationalMessage:async(e,t)=>(await s.post(`/trainer/clients/${e}/motivational-message`,{message:t})).data,updateClientInfo:async(e,t)=>(await s.put(`/trainer/clients/${e}`,t)).data},o={getRoutines:async e=>(await s.get(`/clients/${e}/routines`)).data,getAssignedRoutines:async()=>(await s.get("/clients/profile/routines")).data,getRoutineDetails:async e=>{const t=await s.get(`/routines/${e}`);return t.data.data||t.data},deleteAssignedRoutine:async e=>(await s.delete(`/clients/routines/${e}`)).data,getProgress:async e=>(await s.get(`/clients/${e}/progress`)).data,recordProgress:async(e,t)=>(await s.post(`/clients/${e}/progress`,t)).data,saveWorkoutLog:async(e,t)=>(await s.post(`/clients/${e}/workout-logs`,t)).data,getWorkoutHistory:async e=>(await s.get(`/clients/${e}/workout-logs`)).data,updateExerciseProgress:async(e,t)=>(await s.post(`/progress/exercise/${e}`,t)).data,getProfile:async e=>(await s.get(`/clients/${e}/profile`)).data,getClientProfile:async e=>(await s.get(`/clients/${e}/profile`)).data,updateProfile:async(e,t)=>{console.log("ðŸš€ [clientApi.updateProfile] Iniciando solicitud PUT"),console.log("ðŸ“‹ [clientApi.updateProfile] ClientId:",e),console.log("ðŸ“‹ [clientApi.updateProfile] ProfileData:",t),console.log("ðŸ“‹ [clientApi.updateProfile] URL completa:",`/clients/${e}/profile`);try{const n=await s.put(`/clients/${e}/profile`,t);return console.log("âœ… [clientApi.updateProfile] Respuesta exitosa:",n.status,n.data),n.data}catch(n){throw console.error("âŒ [clientApi.updateProfile] Error en solicitud:",n),n}},getSchedule:async e=>(await s.get(`/clients/${e}/schedule`)).data,getNutritionPlan:async e=>(await s.get(`/clients/${e}/nutrition-plan`)).data,getClasses:async e=>(await s.get(`/clients/${e}/classes`)).data,bookClass:async(e,t)=>(await s.post(`/clients/${e}/classes`,{classId:t})).data,cancelClass:async(e,t)=>(await s.delete(`/clients/${e}/classes/${t}`)).data,getPaymentHistory:async e=>(await s.get(`/clients/${e}/payments`)).data,makePayment:async(e,t)=>(await s.post(`/clients/${e}/payments`,t)).data,getPaymentStatus:async()=>(await s.get("/clients/payment-status")).data,getExerciseVideos:async e=>(await s.get(`/exercises/${e}/videos`)).data,getNotifications:async e=>(await s.get(`/clients/${e}/notifications`)).data,getUnreadNotificationCount:async e=>(await s.get(`/clients/${e}/notifications/unread-count`)).data,markNotificationAsRead:async(e,t)=>(await s.put(`/clients/${e}/notifications/${t}`,{read:!0})).data,updateClientProfile:async e=>(await s.put("/clients/profile",e)).data,uploadProfileImage:async e=>{const t=localStorage.getItem("token");if(!t)throw new Error("No hay token de autenticaciÃ³n");const a=JSON.parse(atob(t.split(".")[1])).id;return(await s.post(`/clients/${a}/profile/upload-image`,e,{headers:{"Content-Type":"multipart/form-data"}})).data},createTraining:async e=>(await s.post("/clients/trainings",e)).data,getTrainings:async(e,t)=>{const n=new URLSearchParams;return e&&n.append("startDate",e),t&&n.append("endDate",t),(await s.get(`/clients/trainings?${n.toString()}`)).data},updateTraining:async(e,t)=>(await s.put(`/clients/trainings/${e}`,t)).data,deleteTraining:async e=>(await s.delete(`/clients/trainings/${e}`)).data,sendMonthlyRoutineEmail:async e=>(await s.post("/clients/send-monthly-routine",{routineId:e})).data},i={login:async e=>(await s.post("/auth/login",e)).data,register:async e=>(await s.post("/auth/register",e)).data,logout:()=>(localStorage.removeItem("token"),Promise.resolve())},l=Object.freeze(Object.defineProperty({__proto__:null,authApi:i,clientApi:o,default:s,trainerApi:r},Symbol.toStringTag,{value:"Module"}));export{l as a,o as c,r as t};
