import{b as n}from"./index-BJZa08pc.js";class o{async getNotifications(e){const t=new URLSearchParams;return e?.limit&&t.append("limit",e.limit.toString()),e?.offset&&t.append("offset",e.offset.toString()),e?.unreadOnly&&t.append("unreadOnly",e.unreadOnly.toString()),(await n.get(`/payment-reminders/notifications?${t.toString()}`)).data}async markAsRead(e){return(await n.patch(`/payment-reminders/notifications/${e}/read`)).data}async markAllAsRead(){return(await n.patch("/payment-reminders/notifications/mark-all-read")).data}async sendManualPaymentReminder(e){return(await n.post(`/payment-reminders/send-manual-reminder/${e}`)).data}async testAutomaticReminders(){return(await n.post("/payment-reminders/test-automatic-reminders")).data}async createTestSubscription(e,t=3){return(await n.post(`/payment-reminders/create-test-subscription/${e}`,{daysUntilDue:t})).data}async getUnreadCount(){try{return(await this.getNotifications({limit:1,unreadOnly:!0})).data.unreadCount}catch(e){return console.error("Error obteniendo conteo de notificaciones:",e),0}}formatNotificationDate(e){const t=new Date(e),s=new Date,r=Math.floor((s.getTime()-t.getTime())/(1e3*60));if(r<1)return"Ahora mismo";if(r<60)return`Hace ${r} minuto${r>1?"s":""}`;if(r<1440){const a=Math.floor(r/60);return`Hace ${a} hora${a>1?"s":""}`}else if(r<10080){const a=Math.floor(r/1440);return`Hace ${a} dÃ­a${a>1?"s":""}`}else return t.toLocaleDateString("es-ES",{day:"numeric",month:"short",year:t.getFullYear()!==s.getFullYear()?"numeric":void 0})}getNotificationIcon(e){switch(e){case"payment_reminder":return"ğŸ’³";case"routine_assigned":return"ğŸ‹ï¸";case"progress_update":return"ğŸ“ˆ";case"new_client":return"ğŸ§‘â€ğŸ¤â€ğŸ§‘";case"goal_achieved":return"ğŸ†";case"message":return"ğŸ’¬";case"routine_update":return"ğŸ’ª";case"appointment":return"ğŸ“…";case"system":return"âš™ï¸";default:return"ğŸ“¢"}}getNotificationColor(e){switch(e){case"payment_reminder":return"text-red-600";case"routine_assigned":return"text-blue-600";case"progress_update":return"text-green-600";case"new_client":return"text-purple-600";case"goal_achieved":return"text-yellow-600";case"message":return"text-cyan-600";case"routine_update":return"text-blue-600";case"appointment":return"text-green-600";case"system":return"text-gray-600";default:return"text-gray-600"}}}const u=new o;export{u as default};
